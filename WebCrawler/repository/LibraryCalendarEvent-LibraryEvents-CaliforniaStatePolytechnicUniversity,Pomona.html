<!doctype html>
<html lang="en"> 
 <head> <!-- iid: 1798 --> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet"> 
  <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.min.css" rel="stylesheet"> 
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> 
  <link href="/css583/LibCal_public.min.css" rel="stylesheet"> 
  <link href="/css583/print.min.css" rel="stylesheet" media="print"> 
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script> 
  <script>
        window.jQuery || document.write('<script src="/js583/jquery.min.js">\x3C/script>');
    </script> 
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> 
  <script>
        jQuery.ui || document.write('<script src="/js583/jquery-ui.min.js">\x3C/script>');
    </script> 
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> 
  <script>
        (typeof $().modal == 'function') || document.write('<script src="/js583/bootstrap.min.js">\x3C/script>');
    </script> 
  <script src="/js583/LibCal_public.min.js"></script> 
  <script>
    springSpace.dateFormat = "dddd, MMMM D, YYYY";
    springSpace.dateShortFormat = "dddd, MMMM D, YYYY";
    springSpace.timeFormat = "h:mma";
    springSpace.timezone = 'America/Los_Angeles';
    springSpace.currency = "USD";
    springSpace.currencySymbol = "$";

    springSpace.language = 'en'; // en
    springSpace.locale = 'en-US'; // en-US

    springSpace.phpTimeFormat = 'g:ia';

    springSpace.bootstrapAsset = '/css583/bootstrap.min.css';
    springSpace.publicCssAsset = '/css583/LibCal_public.min.css';
    springSpace.adminCssAsset = '/css583/LibCal_admin.min.css';

    jQuery(function() {
                moment.locale(springSpace.locale);

                setupDatePickerLanguage();
    });
</script> 
  <script>
         var springLang  = { eq_GoToNextAvailable: "Next Available", eq_js_add_cart_btn: "Add to Cart", eq_js_add_cc_btn: "Add to Cart & Checkout", eq_js_add_eq_btn: "Add Equipment", eq_js_add_start: "All additional items must have a starting time of", eq_js_add_to_cart: "Add Item to Cart", eq_js_booking_summary_title: "Thank you!", eq_js_cart_tt: "Create a shopping cart with these space bookings, and go to equipment booking page to add more items to the cart.", eq_js_close: "Close", eq_js_date: "Change Return Date", eq_js_det_return: "Determining return time", eq_js_from: "From:", eq_js_from_det: "from", eq_js_go_to_date: "Go To Date", eq_js_isRequired: "is required!", eq_js_rem_pending: "Remove Pending Booking", eq_js_spacew_forb_multi: "Forbidden from booking same resource multiple times in a single booking.<br><br>Please only select sequential checkboxes.", eq_js_spacew_forb_single: "Forbidden from booking different resources in a single booking.", eq_js_to: "To:", eq_js_until_det: "until...", eq_start_over: "Make Another Booking", eq_unavail: "Unavailable/Padding", eq_your_book: "Your Booking" };
    </script> 
  <title>Library Calendar Event - Library Events - California State Polytechnic University, Pomona</title> 
  <link rel="alternate" type="application/rss+xml" title="Latest Events" href="/rss.php?iid=1798&amp;m=month&amp;cid=5014"> 
  <link rel="stylesheet" href="/css583/datepicker.min.css"> 
  <style>
        .bs-placeholder {
        color: #333 !important;
    }

    .s-lc-c-erh {
        margin-top: 6px;
    }

    .s-lc-c-timezone-horiz {
        float: left;
        padding-bottom: 6px;
    }

    .s-lc-c-list-cont-horiz {
        clear: both;
    }

        /* This CSS controls: */
/* Public and Admin System Calendar */
/* Public Full and Mini Calendar Widget */



/*Embeddable mini-calendar - from Widgets/API section */

#mini-calendar { border: 3px solid #066A9E; padding: 2px; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px;}
.cal-mini {width: 100%; font-family: Arial, Verdana, sans-serif; }
.cal-mini td { border-right: 1px solid #f2f2f2; }
.cal-mini-day-head, .cal-mini-title-row td {border: 0px!important;  background-color: #f2f2f2;}
.cal-mini-title {text-align: center; color: #362E2C; font: bold 14px Arial, Verdana, sans-serif;}
.cal-mini-day-head { color: #7F7F7F; text-align: center; font-size: 12px; font-weight: bold; }
.cal-mini-arrow { text-align: center!important; font-size: 16px;}
.cal-mini-day-num, .cal-mini-day-pad { text-align: center;  color: #362E2C; margin:1px;}
.cal-mini-hasevent a { -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; background-color: #FF972F;  border: 1px solid #fff; display: block; color: #fff; text-decoration: none; }
.cal-mini-hasevent a:hover { background-color: #fff; color: #FF972F; text-decoration: none; border: 1px solid #FF972F; }
#calevent-mini-list-h { padding: 3px 0px 3px 5px; color: #362E2C; border-top: 1px solid #f2f2f2; border-bottom: 1px solid #066A9E; background-color: #f2f2f2; font: bold 12px Arial, Verdana, sans-serif; }
.calevent-mini { list-style-type: none; padding: 0px; margin:0px; overflow: auto; }
.calevent-mini-time { padding: 0px; margin: 0px; color: #4A4A4A; font-size: 11px;} 
.calevent-mini li a{ font-weight: bold; }
.calevent-mini li{ padding: 0px 5px; margin: 0px; border-bottom: 1px solid #f2f2f2; }
.calevent-mini li:hover{ background-color: #f2f2f2; }

/* Edits for color contrast */

/*.cat39023[style] { color:#fff !important;}
s-lc-cal-tip-title { color:#fff !important;}
.s-lc-cal-tip{ color:#fff !important;} */

/* Change background color in Today */

td.fc-today {background:#DDD !important;}

    </style> 
  <style>
.fc-time-area.fc-widget-header {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    background-color:  #fff;
    z-index: 1000;
}
</style> 
 </head> 
 <body id="calendar_5014" class="s-lc-public s-lc-public-page-5"> 
  <div class="sr-only" title="Information for Screenreader Users"> 
  </div> <a id="s-lc-public-skiplink" class="s-lc-skiplink alert-info" href="#s-lc-public-main">Skip to Main Content</a> 
  <div class="container"> 
   <div id="s-lc-public-bc" class="row"> 
    <div class="col-md-12"> 
     <ol class="breadcrumb" role="navigation"> 
      <li><a href="http://www.cpp.edu/~library/index.shtml">California State Polytechnic University, Pomona</a></li> 
     </ol> 
    </div> 
   </div> 
   <noscript> 
    <div class="alert alert-danger" id="noscript">
     Your browser has javascript disabled. Without javascript some functions will not work.
    </div> 
   </noscript> 
   <main> 
    <div id="s-lc-public-main" class="s-lc-public-main"> 
     <section> 
      <div id="s-lc-public-page-content" class="row"> 
       <div id="col1" class="col-md-12 center"> 
        <div class="col-md-3 s-lc-c-l"> 
         <form id="cal-form" role="search"> 
          <div id="s-lc-filter-date" class="s-lc-c-datepicker"> 
          </div> 
          <div class="form-group"> <label class="sr-only" for="s-lc-c-search">Search</label> 
           <div class="input-group" id="s-lc-c-sc"> 
            <input type="text" class="form-control" name="q" id="s-lc-c-search" value="" aria-required="false" placeholder="Search for event..." aria-label="Search for event..." role="searchbox"> <span class="input-group-btn"> <button type="button" class="btn btn-default" id="s-lc-c-sbtn">Search</button> </span> 
           </div> 
          </div> 
          <div class="form-group"> <label for="cal-dd">Calendar<span title="Required">*</span></label> <select name="cal[]" id="cal-dd" class="selectpicker" multiple title="Calendar" aria-required="true" data-size="15" data-selected-text-format="count>2"> <option value="-1" data-cal_id="-1">Show All</option> <option data-divider="true"></option> <option value="5014" selected data-cal_id="5014">Library Calendar Event</option> </select> 
          </div> <span class="s-lc-bold">Filter by</span> 
          <div id="s-lc-c-filters" class="form-group"> 
           <div id="s-lc-c-catf"> <label class="sr-only" for="cat-dd">Category</label> <select name="ct[]" id="cat-dd" aria-required="false" class="selectpicker" multiple title="Category" data-size="15" data-selected-text-format="count>2"> </select> 
           </div> 
           <div id="s-lc-c-audiencef"> <label class="sr-only" for="audience-dd">Audience</label> <select name="audience[]" id="audience-dd" aria-required="false" class="selectpicker" multiple title="Audience" data-size="15" data-selected-text-format="count>2"> <option value="1770" data-cal_id="1770" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Community</span>"> Community </option> <option value="450" data-cal_id="450" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Faculty</span>"> Faculty </option> <option value="448" data-cal_id="448" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Graduate</span>"> Graduate </option> <option value="451" data-cal_id="451" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Staff</span>"> Staff </option> <option value="449" data-cal_id="449" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Undergraduate</span>"> Undergraduate </option> </select> 
           </div> 
           <div id="s-lc-c-camf"> <label class="sr-only" for="cam-dd">University Library</label> <select name="cm[]" id="cam-dd" aria-required="false" class="selectpicker" multiple title="University Library" data-size="15" data-selected-text-format="count>2"> <option value="2869" data-cal_id="2869">Building 15</option> </select> 
           </div> 
           <div id="s-lc-c-online-filter"> <label class="sr-only" for="include-events-dd"> Include Events </label> <select name="include-events" id="include-events-dd" aria-required="false" class="selectpicker"> <option value="0"> Onsite And Online </option> <option value="1"> Online Only </option> <option value="2"> Onsite Only </option> </select> 
           </div> 
          </div> <button type="submit" class="sr-only">Submit</button> <a href="#" id="s-lc-c-clear" class="s-lc-filters-clear margin-bottom-med">Clear All</a> 
         </form> 
        </div> <!-- Right side //--> 
        <div class="col-md-9 s-lc-c-r"> 
         <div id="s-lc-c-view-modes" class="s-lc-c-view-modes"> 
          <div class="btn-group"> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-card"> <i class="fa fa-th fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Card View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-list"> <i class="fa fa-align-justify fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Day/List View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-monthly"> <i class="fa fa-calendar fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Monthly View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-weekly"> <i class="fa fa-calendar-o fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Weekly View</span> </button> 
          </div> 
         </div> 
         <div class="s-lc-c-erc"> 
          <h1 class="s-lc-c-erh"><span id="s-lc-c-header-title"></span> - <span id="s-lc-c-header-subtitle"></span></h1> 
          <div id="s-lc-c-e-audience"></div> 
          <div id="s-lc-c-e-cat"></div> 
          <div id="s-lc-c-e-cam"></div> 
          <div class="s-lc-timezone-container s-lc-c-timezone-vert s-lc-c-timezone">
            Time Zone: Pacific Time - US &amp; Canada (<a href="#" class="s-lc-c-timezone-change">change</a>) 
          </div> 
         </div> 
         <div id="s-lc-c-list-cont"></div> 
        </div> 
       </div> 
      </div> 
     </section> 
    </div> 
   </main> 
   <footer id="s-lc-public-footer" class="s-lc-public-footer row"> 
    <div id="s-lc-public-footer-brand"> <span title="libcal-us-2">Powered by</span> <a href="https://www.springshare.com">Springshare</a>. 
    </div> 
    <div id="s-lc-public-footer-rights">
      All rights reserved. 
    </div> 
    <div id="s-lc-footer-support-link"> <a href="mailto:alafarga@cpp.edu">Report a tech support issue.</a> 
    </div> 
    <div id="s-lc-public-footer-admin-links" role="navigation"> <a id="s-lc-sign-in" href="https://cpp.libapps.com/libapps/login.php?site_id=4641&amp;target=">Login to LibApps</a> 
    </div> 
    <div class="s-lc-public-footer-actions"> 
     <div id="s-lc-language"> <select id="s-lc-language-selector" role="select" aria-label="Language Selector"> <option value="cy">Cymraeg</option> <option value="en" selected>English</option> <option value="es">español</option> <option value="fr">français</option> <option value="sl">slovenski jezik</option> </select> 
     </div>
    </div> 
   </footer> 
  </div> 
  <script src="/js583/datepicker.min.js"></script> 
  <script src="/js/history.js"></script> 
  <script src="/js583/direct/pagination.min.js"></script> 
  <script src="/js583/direct/public/events/calendar.min.js"></script> 
  <script>
        function addEventDataTextTranslations(eventData) {
            eventData.textMore = 'More';
            eventData.textViewMoreInfo = 'View\u0020More\u0020Information';
            eventData.textShowMoreDates = 'Show\u0020more\u0020dates';
            eventData.textFeaturedImage = 'Event\u0020featured\u0020image';
            eventData.textGoToEvent = 'Go\u0020to\u0020event\u0020page';

            eventData.textDate = 'Date';
            eventData.textTime = 'Time';
            eventData.textLocation = 'Location';
            eventData.textCategories = 'Categories';
            eventData.textAudience = 'Audience';
            eventData.textFrom = 'From';
            eventData.textTo = 'To';
            eventData.textEventCost = '_ev_eventCost_';
            eventData.textOnlineEvent = 'Online';
            eventData.textRegister = 'Register';
        }
    </script> 
  <script>
        var activeSearch = false;
        var activeView = "d";
        var activePage = 1;
        var activeDate = moment("2020\u002D09\u002D24", springSpace.phpDateFormat).locale('en');
        var haveChosenSpecificDate = 0;
        var resultsPerPageViewMap = {
            "g": 48,
            "d": 20,
        };
        var momentWeekFormat = 'week';

        
        var datePickerTemplates = {
            leftArrow: '<span class="sr-only"> + springLang.Ge_Next + </span>&laquo;',
            rightArrow: '<span class="sr-only"> + springLang.Ge_Prev + </span>&raquo;'
        };

        var template = "<div class=\"media s-lc-c-evt\">\r\n    <div class=\"media-body\"><h3 class=\"media-heading\"><a href=\"{{url}}\">{{title}}<\/a><\/h3>\r\n        <div class=\"s-lc-c-evt-des\">{{{shortdesc}}}<\/div>\r\n        <dl class=\"dl-horizontal\">\r\n            <dt>Date:<\/dt>\r\n            <dd>{{date}}\r\n                {{#future_dates.0}}\r\n                    <i class=\"fa fa-calendar pad-left-med\" aria-hidden=\"true\"><\/i>\r\n                    <a href=\"#\" onclick=\"jQuery('#future_{{id}}').toggle(); return false;\"> Show more dates<\/a>\r\n                    <p id=\"future_{{id}}\" style=\"display:none\">\r\n                        {{#future_dates}}\r\n                        <a href=\"\/event\/{{event_id}}\">{{start}}<\/a><br>\r\n                        {{\/future_dates}}\r\n                    <\/p>\r\n                {{\/future_dates.0}}\r\n            <\/dd>\r\n\r\n            <dt>Time:<\/dt>\r\n            <dd>{{start}}{{#end}} - {{end}}{{\/end}}<\/dd>\r\n\r\n            <dt>Location:<\/dt>\r\n            <dd>{{#location}}{{location}}{{#campus}}, {{\/campus}}{{\/location}}{{#campus}}{{campus}}{{\/campus}}<\/dd>\r\n\r\n            {{#audiences.0}}\r\n            <dt>Audience:<\/dt>\r\n            <dd>{{#audiences}}\r\n                <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\r\n                <span class=\"s-lc-event-category-link\">\r\n                    <a href=\"{{calendar_url}}&t=d&cal%5B%5D={{calendar_id}}&audience%5B%5D={{id}}\">{{name}}<\/a>\r\n                <\/span> \u00a0\r\n                {{\/audiences}}\r\n            <\/dd>\r\n            {{\/audiences.0}}\r\n\r\n            {{#categories_arr.0}}\r\n            <dt>Categories:<\/dt>\r\n            <dd>{{#categories_arr}}\r\n                <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\r\n                <span class=\"s-lc-event-category-link\">\r\n                    <a href=\"{{calendar_url}}&t=d&d=0000-00-00&cal%5B%5D={{calendar_id}}&ct%5B%5D={{cat_id}}\">{{name}}<\/a>\r\n                <\/span> \u00a0\r\n                {{\/categories_arr}}\r\n            <\/dd>\r\n            {{\/categories_arr.0}}\r\n\r\n            <dt><\/dt>\r\n            <dd>\r\n                {{#seats}}\r\n                <dt><\/dt>\r\n                <dd><a href=\"{{url}}\" class=\"btn btn-success btn-sm margin-top-med\">Register! {{#seatsleft}} - {{seatsleft}} seats left{{\/seatsleft}}<\/a><\/dd>\r\n                {{\/seats}}\r\n\r\n                {{#registration_msg}}\r\n                <dt><\/dt>\r\n                <dd><a href=\"{{url}}\" class=\"btn {{class}} btn-sm margin-top-med\">{{msg}}<\/a><\/dd>\r\n                {{\/registration_msg}}\r\n            <\/dd>\r\n        <\/dl>\r\n    <\/div>\r\n    {{#featured_image}}\r\n    <div class=\"media-right\"><a href=\"{{url}}\"> <img class=\"media-object img-thumbnail s-lc-c-evt-fi\" src=\"{{featured_image}}\" alt=\"{{title}}\"> <\/a><\/div>\r\n    {{\/featured_image}}\r\n<\/div>";
        var cardViewTemplate = "<div class=\"s-lc-eventcard\">\n    <div class=\"s-lc-eventcard-content\">\n        <div class=\"s-lc-eventcard-heading\">\n            <div class=\"s-lc-eventcard-heading-content\">\n                <div class=\"s-lc-evt-date\">\n                    <div class=\"s-lc-evt-date-m\">{{monthshort}}<\/div>\n                    <div class=\"s-lc-evt-date-d\">{{day}}<\/div>\n                <\/div>\n\n                <div class=\"s-lc-eventcard-heading-text-group\">\n                    <div class=\"s-lc-eventcard-heading-text s-lc-hide-long-text\">\n                        {{^multi_day_event}}\n                            {{dayshort}}, {{start}}{{#end}} - {{end}}{{\/end}}\n                        {{\/multi_day_event}}\n\n                        {{#multi_day_event}}\n                            {{monthshort}} {{day}} -\n                            {{#multi_day_end}}\n                                {{monthshort}} {{day}}\n                            {{\/multi_day_end}}\n                        {{\/multi_day_event}}\n\n                        {{#online_event}}\n                            <span class=\"label label-info s-lc-eventcard-online-pill\">\n                                {{textOnlineEvent}}\n                            <\/span>\n                        {{\/online_event}}\n                    <\/div>\n                    <div class=\"s-lc-eventcard-heading-text s-lc-hide-long-text\">{{campusAndLocation}}<\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n\n        <div class=\"s-lc-eventcard-event-color-bar\" style=\"background-color: {{color}}\">\n        <\/div>\n\n        <div class=\"s-lc-eventcard-body\">\n            {{#seatsleft}}\n                <div class=\"s-lc-ribbon s-lc-ribbon-top-right\">\n                    <span>\n                        {{seatsleft_text}}\n                    <\/span>\n                <\/div>\n            {{\/seatsleft}}\n\n            <h2 class=\"s-lc-eventcard-title\">\n                <a title=\"{{title}}\" href=\"{{url}}\">\n                    {{title}}\n                <\/a>\n            <\/h2>\n\n            {{#shortdesc}}\n            <div class=\"s-lc-eventcard-description\">\n                {{{shortdesc}}}\n                {{#shortdesc_was_truncated}}\n                &nbsp;<a href=\"{{url}}\" aria-label=\"{{textViewMoreInfo}}\">{{textMore}}<\/a><br>\n                {{\/shortdesc_was_truncated}}\n            <\/div>\n            {{\/shortdesc}}\n\n            {{#registration_cost}}\n                <br>\n                <div class=\"s-lc-eventcard-registration-cost\">\n                    {{textEventCost}}: {{registration_cost}}\n                <\/div>\n            {{\/registration_cost}}\n        <\/div>\n\n        <div class=\"s-lc-eventcard-tags\">\n            <ul>\n                {{#categoriesToShowInFull}}\n                    <li class=\"s-lc-eventcard-tag\">\n                        <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\n                        <span class=\"s-lc-event-category-link\" data-toggle=\"tooltip\" title=\"{{name}}\">\n                            <a href=\"{{calendar_url}}&t=g&cal%5B%5D={{calendar_id}}{{#isCategory}}&ct={{id}}{{\/isCategory}}{{#isAudience}}&audience={{id}}{{\/isAudience}}\">\n                                {{name}}\n                            <\/a>\n                        <\/span>\n                    <\/li>\n                {{\/categoriesToShowInFull}}\n\n                {{#categoriesTooltip}}\n                    <li class=\"s-lc-eventcard-tag-more\">\n                        <a href=\"#\" data-toggle=\"tooltip\" title=\"{{categoriesTooltip}}\" aria-label=\"{{categoriesTooltip}}\">&hellip;<\/a>\n                    <\/li>\n                {{\/categoriesTooltip}}\n            <\/ul>\n        <\/div>\n    <\/div>\n<\/div>\n";
        var cardViewDefaultImage = 'https\u003A\/\/lcimages.s3.amazonaws.com\/event\u002Ddefault.png';

        var categoriesMappedByCalendar = { 5014: [] };
        var categoryNameToColorMap = {};
        var categoryNameToIdListsMap = {};

        
                var tempCategoryName = "Athletic\u0020Department\u0020Study\u0020Hall";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39031,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023A1C78D";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39031);
                var tempCategoryName = "Children\u0027s\u0020Story\u0020Time";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 49802,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F598B5";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(49802);
                var tempCategoryName = "Citation\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27779,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023FC7A00";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27779);
                var tempCategoryName = "Doctorial\u0020Meeting";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27778,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002396A9B3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27778);
                var tempCategoryName = "Faculty\u0020Meetings";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39022,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023B8A5B8";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39022);
                var tempCategoryName = "Fashion\u0020Exhibit";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42925,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u00239B79E0";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42925);
                var tempCategoryName = "Finals\u0020De\u002DStress\u0020Week\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39028,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023EFC1F7";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39028);
                var tempCategoryName = "Hip\u002DHop\u0020Symposium";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39029,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u00239C76A6";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39029);
                var tempCategoryName = "Knowledge\u0020Center\u0020Activities";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 46330,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002380FF80";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(46330);
                var tempCategoryName = "Lib\u0020Instruction\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39025,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023B3C8EF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39025);
                var tempCategoryName = "Library\u0020Close";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39850,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023D2D5DB";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39850);
                var tempCategoryName = "Library\u0020Event";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27776,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023EBD634";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27776);
                var tempCategoryName = "Library\u0020Workshops";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50889,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50889);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Advanced\u0020Research\u0020Skills";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50891,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50891);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Basic\u0020Research\u0020Skills";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50890,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50890);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Special\u0020Topics\u0020Workshops";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50892,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50892);
                var tempCategoryName = "LRC\/RAMP\/Writing\u0020Center\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42922,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023627FB3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42922);
                var tempCategoryName = "Maker\u0020Studio\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 45443,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F5EDBF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(45443);
                var tempCategoryName = "National\u0020Library\u0020Week";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39027,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023984BAB";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39027);
                var tempCategoryName = "Outside\u0020Departments\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42923,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023AFBD75";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42923);
                var tempCategoryName = "Plagiarism\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27775,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F7A3A3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27775);
                var tempCategoryName = "Special\u0020Collections\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 43356,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023C9E6F5";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(43356);
                var tempCategoryName = "The\u0020Library\u0020Club\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39023,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023C3ADF0";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39023);
                var tempCategoryName = "Thesis\/Project\u0020Formatting\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27774,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023FAB941";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27774);
                var tempCategoryName = "Welcome\u0020Week\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39026,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023CBF035";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39026);
        
        var calendarNameMap = {};
                    calendarNameMap[-1] = "All\u0020Calendars";
                        calendarNameMap[5014] = "Library\u0020Calendar\u0020Event";
                    
        var audienceNameMap = {};
                    audienceNameMap[1770] = "Community";
                    audienceNameMap[450] = "Faculty";
                    audienceNameMap[448] = "Graduate";
                    audienceNameMap[451] = "Staff";
                    audienceNameMap[449] = "Undergraduate";
        
        var categoryNameMap = {};
                    categoryNameMap[39031] = "Athletic\u0020Department\u0020Study\u0020Hall";
                    categoryNameMap[49802] = "Children\u0027s\u0020Story\u0020Time";
                    categoryNameMap[27779] = "Citation\u0020Workshop";
                    categoryNameMap[27778] = "Doctorial\u0020Meeting";
                    categoryNameMap[39022] = "Faculty\u0020Meetings";
                    categoryNameMap[42925] = "Fashion\u0020Exhibit";
                    categoryNameMap[39028] = "Finals\u0020De\u002DStress\u0020Week\u0020";
                    categoryNameMap[39029] = "Hip\u002DHop\u0020Symposium";
                    categoryNameMap[46330] = "Knowledge\u0020Center\u0020Activities";
                    categoryNameMap[39025] = "Lib\u0020Instruction\u0020";
                    categoryNameMap[39850] = "Library\u0020Close";
                    categoryNameMap[27776] = "Library\u0020Event";
                    categoryNameMap[50889] = "Library\u0020Workshops";
                    categoryNameMap[50891] = "Library\u0020Workshops\u0020\u003E\u0020Advanced\u0020Research\u0020Skills";
                    categoryNameMap[50890] = "Library\u0020Workshops\u0020\u003E\u0020Basic\u0020Research\u0020Skills";
                    categoryNameMap[50892] = "Library\u0020Workshops\u0020\u003E\u0020Special\u0020Topics\u0020Workshops";
                    categoryNameMap[42922] = "LRC\/RAMP\/Writing\u0020Center\u0020";
                    categoryNameMap[45443] = "Maker\u0020Studio\u0020";
                    categoryNameMap[39027] = "National\u0020Library\u0020Week";
                    categoryNameMap[42923] = "Outside\u0020Departments\u0020";
                    categoryNameMap[27775] = "Plagiarism\u0020Workshop";
                    categoryNameMap[43356] = "Special\u0020Collections\u0020Events";
                    categoryNameMap[39023] = "The\u0020Library\u0020Club\u0020Events";
                    categoryNameMap[27774] = "Thesis\/Project\u0020Formatting\u0020Workshop";
                    categoryNameMap[39026] = "Welcome\u0020Week\u0020Events";
        
        var campusNameMap = {};
                    campusNameMap[2869] = "Building\u002015";
        
        var selectPickerCountSelectText = '{0} selected';
        var selectPickerHeaderText = {
            calendar:   'Filter\u0020by Calendar:',
            audience:   'Filter\u0020by Audience:',
            category:   'Filter\u0020by Category:',
            campus:     'Filter\u0020by University\u0020Library:',
            include: 'Include\u0020Events:',
        };

        var defaultIncludeEvents = 0;
        var includeEventsLabel = 'Include\u0020Events';

        var springyPage = {
            iid: 1798,
            isFullCalendarView: 0,
            calendarStartDay: 0,
            lang: {
                category: 'Category',
                campus: 'University\u0020Library',
                location: 'Location',
                presenter: 'Presenter',
                audiences: 'Audiences',
                categories: 'Categories',
                seats: 'Seats',
                shortDesc: 'Description',
                allDay: 'All\u0020Day',
                time: 'Time',
            }
        };

        function addCalendarCategoriesToDict(categoryDictionary, calendarCategories) {
            for (var i = 0; i < calendarCategories.length; i++) {
                var calendarCategory = calendarCategories[i];
                categoryDictionary[calendarCategory.name] = true;
            }
        }

        function getDictionaryOfCategories(calendarIds) {
            var categoryDictionary = {};

                        if (0 in categoriesMappedByCalendar) {
                addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[0]);
            }

                        for (var i = 0; i < calendarIds.length; i++) {
                var calendarId = calendarIds[i];

                if (calendarId == -1) {
                                        addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[5014]);
                                        break;
                }


                addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[calendarId]);
            }

            return categoryDictionary;
        }

        function getSortedKeys(categoryDictionary) {
            var sortedKeys = [];
            for(var key in categoryDictionary) {
                sortedKeys.push(key);
            }
            sortedKeys.sort(compareStringIgnoreCase);

            return sortedKeys;
        }

        function updateCategoryFilters(calendarIds, selectedValues) {
            var categoryDictionary = getDictionaryOfCategories(calendarIds);

            var sortedKeys = getSortedKeys(categoryDictionary);

            var element = jQuery("#cat-dd");
            element.empty();

            for (var i = 0; i < sortedKeys.length; i++) {
                var categoryName = sortedKeys[i];
                var categoryColor = categoryNameToColorMap[categoryName];
                var selected = selectedValues.indexOf(categoryName) >= 0;

                var option = new Option(categoryName, categoryName, selected, selected);
                option.setAttribute('data-bgcolor', categoryColor);
                option.setAttribute('data-content', '<span class="label" style="background-color:' + categoryColor + '">&nbsp;</span> ' + categoryName + '</span>');
                element.append(option);
            }

            element.selectpicker('refresh');
        }

        function runFiltersDueToOptionChange(event, clickedIndex, newValue, oldValue) {
            activePage = 1;

            return runFilters();
        }

                var calendarFilterInProgress = false;

        function ensureValidCalendarSelection(element, clickedIndex) {
            if (clickedIndex == 0) {
                // if the show all option is selected - make it the only option selected
                element.selectpicker('deselectAll').val(-1).selectpicker("refresh");
            } else {
                // ensure the select all option is not selected if we pick a different option
                element.find("[value=-1]").prop("selected", false);
                element.selectpicker("refresh");
            }
        }

        function runCalendarSelectionValidation(event, clickedIndex, newValue, oldValue) {
            var element = jQuery(this);
            ensureValidCalendarSelection(element, clickedIndex);
        }

        function runFiltersDueToCalendarChange(event, clickedIndex, newValue, oldValue) {
            if (calendarFilterInProgress) {
                return false;
            }

            calendarFilterInProgress = true;

            var element = jQuery(this);
            ensureValidCalendarSelection(element, clickedIndex);

            calendarFilterInProgress = false;

            // if no options are selected - reset the select picker back to the original value
            var calendarIds = element.val();
            if (calendarIds.length == 0) {
                element.val(5014).selectpicker("refresh");
                calendarIds = [5014];
            }

            // toggle the categories display to only show those valid for these calendars
            updateCategoryFilters(calendarIds, jQuery("#cat-dd").val());

            activePage = 1;

            return runFilters();
        }

        function getSelectedCategoryIds() {
            var selectedCategoryIds = [];

            var categoryNames = jQuery("#cat-dd").val();
            if (categoryNames == undefined) {
                return selectedCategoryIds;
            }

            for (var i = 0; i < categoryNames.length; i++) {
                var categoryName = categoryNames[i];
                var categoryIds = categoryNameToIdListsMap[categoryName];
                Array.prototype.push.apply(selectedCategoryIds, categoryIds);
            }

            return selectedCategoryIds;
        }

        function createDatePicker() {
                        var minViewMode = (activeView == "m") ? 1 : 0;

                        var displayDateFormat = (activeView == "m") ? "MMMM YYYY" : springSpace.dateFormat;

            var element = jQuery("#s-lc-filter-date");
            element.off('changeDate');
            element.datepicker("destroy");

            element.datepicker({
                language: "en",
                format: {
                    toDisplay: function (date, format, language) {
                        return moment.utc(date).locale("en").format(displayDateFormat);
                    },
                    toValue: function (date, format, language) {
                        return new Date(date);
                    }
                },
                minViewMode: minViewMode,
                autoclose: true,
                                todayHighlight: 0,
                defaultViewDate: {"year": 2020, "month": 8, "day": 24},
                templates: datePickerTemplates
            });

            if (haveChosenSpecificDate) {
                element.datepicker("setDate", activeDate.toDate());
            }

            datePickerAccessibilityFix(element);

            element.on("changeDate", function () {
                haveChosenSpecificDate = true;
                activeDate = moment(jQuery(this).datepicker("getDate"));

                
                                activePage = 1;
                activeSearch = false;
                jQuery("#s-lc-c-search").val("");

                return runFilters();
                            });
        }

        function setActiveViewMode(viewMode) {
            activeView = viewMode;
            activePage = 1;

            createDatePicker();

            return runFilters();
        }

        function setActiveViewModeToSearch() {
            var searchString = jQuery("#s-lc-c-search").val();
            if (searchString.length < 2) {
                errorAlert("Search\u0020string\u0020must\u0020be\u0020at\u0020least\u00202\u0020characters.");
                return false;
            }

            activeSearch = true;
            activePage = 1;

            // keep people on their current view mode, with the exception of the monthly/weekly
            //  view modes as they do not yet support searches
            if ((activeView === 'm') || (activeView === 'w')) {
                activeView = 'd';
                createDatePicker();
            }
        }

        function getDateToPassToPhp() {
            if (!haveChosenSpecificDate) {
                return "0000-00-00";
            }

            if (activeView == "m") {
                return activeDate.format("YYYY-MM");
            }

            return activeDate.format("YYYY-MM-DD");
        }

        function getListOfNames(idNameMap, ids) {
            var names = [];

            for (var i=0; i < ids.length; i++) {
                var id = ids[i];
                var name = idNameMap[id];
                if (name === undefined) {
                    continue;
                }

                names.push(name);
            }

            return names.join(", ");
        }

        function gatherFilterOptionsInUse() {
            var categoryIds = getSelectedCategoryIds();
            var campusIds = jQuery("#cam-dd").val();
            var audienceIds = jQuery("#audience-dd").val();
            var calendarIds = jQuery("#cal-dd").val();
            var search = jQuery("#s-lc-c-search").val();

            var filterOptions = [];

            if (search.length > 0) {
                filterOptions.push(["Keywords", escapeHtml(search)]);
            }

            if (haveChosenSpecificDate) {
                                var displayDateFormat = (activeView == "m") ? "MMMM YYYY" : springSpace.dateFormat;
                filterOptions.push(["Date", activeDate.locale("en").format(displayDateFormat)]);
            }

            if (calendarIds.length > 0) {
                filterOptions.push(["Calendar", getListOfNames(calendarNameMap, calendarIds)]);
            }

            if ((audienceIds != undefined) && (audienceIds.length > 0)) {
                filterOptions.push(["Audience", getListOfNames(audienceNameMap, audienceIds)]);
            }

            if (categoryIds.length > 0) {
                filterOptions.push(["Category", getListOfNames(categoryNameMap, categoryIds)]);
            }

            if ((campusIds != undefined) && (campusIds.length > 0)) {
                filterOptions.push(["University\u0020Library", getListOfNames(campusNameMap, campusIds)]);
            }

            filterOptions.push([includeEventsLabel, jQuery('#include-events-dd option:selected').text()]);

            return filterOptions;
        }

        function showFiltersUsedOnScreen() {
            var filterOptions = gatherFilterOptionsInUse();
            var html = "Filters\u0020applied\u003A\u0020";

            for (var i=0; i < filterOptions.length; i++) {
                var filterOption = filterOptions[i];
                var name = filterOption[0];
                var value = filterOption[1];

                if (value.length === 0) {
                    continue;
                }

                html += "<strong>" + name + "</strong>: <em>" + value + "</em>";

                if (i < (filterOptions.length - 1)) {
                    html += ";&nbsp;&nbsp;&nbsp;";
                }
            }

            jQuery("#s-lc-c-filters-used").html(html).show();
        }

        function runFilters() {
            jQuery(".s-lc-nav-tab").removeClass("active");

                        History.pushState(null, document.title, determineQueryString());

            
            var searchString = jQuery("#s-lc-c-search").val();
            if (searchString.length > 0) {
                if (!activeSearch) {
                    setActiveViewModeToSearch();
                }
            } else {
                activeSearch = false;
            }

            if (activeView == 'm') {
                jQuery('.s-lc-nav-monthly').addClass('active');
                if (springyPage.isFullCalendarView) {
                    return runFullCalendarMonthlyOrWeekly(true);
                }

                return runMonthlyOrWeekly(true);
            }

            if (activeView === 'w') {
                jQuery('.s-lc-nav-weekly').addClass('active');
                if (springyPage.isFullCalendarView) {
                    return runFullCalendarMonthlyOrWeekly(false);
                }

                return runMonthlyOrWeekly(false);
            }

            if (activeView == "g") {
                jQuery(".s-lc-nav-card").addClass("active");
            } else {
                jQuery(".s-lc-nav-list").addClass("active");
            }

            if (activeSearch) {
                return runSearch();
            }

            if (activeView == "g") {
                return runCardView();
            }

            return runDaily();
        }

        function beginBusyWait() {
            workingAlert();

                    }

        function endBusyWait() {
            stopAlert();

                    }

        function formatResultsHeader(subTitle, header) {
                        var cals = jQuery("#cal-dd").val();
            if (typeof header !== 'undefined') {
                var calendarName = header;
            } else if (cals == null) {
                jQuery("#cal-dd").val(5014);
                jQuery("#cal-dd").selectpicker("refresh");
                var calendarName = jQuery("#cal-dd").find(":selected").text();
            } else if (cals.length > 1) {
                var calendarName = 'Multiple\u0020Calendars';
            } else {
                var calendarName = jQuery("#cal-dd").find(":selected").text();
            }

            jQuery('#s-lc-c-header-title').html(calendarName);
            jQuery('#s-lc-c-header-subtitle').html(subTitle);
                        return false;
        }

        function runMonthlyOrWeekly(isMonthly) {
            var cals = jQuery('#cal-dd').val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery('#cam-dd').val();
            var audience = jQuery('#audience-dd').val();
            var includeEvents = jQuery('#include-events-dd').val();
            var date = activeDate.format(springSpace.phpDateFormat);

            var cal_cont = jQuery('#s-lc-c-list-cont');

            beginBusyWait();

            var headerSubTitle = calendarUtils.getDateHeading(activeDate, isMonthly, momentWeekFormat);

            jQuery.ajax({
                url: "/ajax/calendar/monthly?c=" + cals + '&date=' + date + '&monthly=' + isMonthly + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function (calData) {
                formatResultsHeader(headerSubTitle);

                if (calData.error) {
                    cal_cont.html('<p>' + calData.error + '</p>');
                } else {
                    cal_cont.html(calData.cal);
                }

                                                                var screenWidth = jQuery(window).width();
                if (screenWidth > springSpace.smallScreenSize) {
                    jQuery('[data-toggle="popover"]').popover();
                }

                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function runDaily() {
            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];

            beginBusyWait();

            if (haveChosenSpecificDate) {
                var day = activeDate.locale("en").format("LL");
            } else {
                var day = "Upcoming\u0020Events";
            }

            jQuery.ajax({
                url: "/ajax/calendar/list?c=" + cals + "&date=" + getDateToPassToPhp() + "&perpage=" + perPage + "&page=" + activePage + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(day);
                var output = formatResultsInListViewStyle(data);

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function runCardView() {
            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];

            beginBusyWait();

            if (haveChosenSpecificDate) {
                var day = activeDate.locale("en").format("LL");
            } else {
                var day = "Upcoming\u0020Events";
            }

            jQuery.ajax({
                url: "/ajax/calendar/list?c=" + cals + "&date=" + getDateToPassToPhp() + "&perpage=" + perPage + "&page=" + activePage + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(day);
                var output = formatResultsInCardViewStyle(data);

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
                accessibleIcons();
                jQuery(".s-lc-eventcard-tag-more").on("click", doNothing);
            })
            .fail(ajaxErrorHandler);
        }

        function doNothing() {
                        return false;
        }

        function runSearch() {
            var q = jQuery("#s-lc-c-search").val();
            if (q.length < 2) {
                errorAlert("Search\u0020string\u0020must\u0020be\u0020at\u0020least\u00202\u0020characters.");
                return false;
            }

            beginBusyWait();

            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];
            var t = q.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");

            jQuery.ajax({
                url: "/process_search.php?site_id=4641&cals=" + cals + "&perpage=" + perPage + "&page=" + activePage + "&q=" + encodeURIComponent(q) + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents + "&callback=?",
                dataType: "jsonp",
            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(t, 'Search\u0020Results');

                if (activeView === "g") {
                    var output = formatResultsInCardViewStyle(data);
                } else {
                    var output = formatResultsInListViewStyle(data);
                }

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function formatResultsInListViewStyle(data) {
            if (data.error) {
                return "<p>" + eventData.error + "</p>";
            }

            var results = data.results.length;
            if (results < 1) {
                return "<div class=\"alert alert-info s-lc-c-s-nores\">No\u0020events\u0020are\u0020scheduled.</div>";
            }

            var output = "";
            for (var i = 0; i < results; i++) {
                var eventData = data.results[i];
                addEventDataTextTranslations(eventData);
                output += Mustache.render(template, eventData);
            }
            output += "<div id=\"pag\"></div>";
            return output;
        }

        function formatResultsInCardViewStyle(data) {
            if (data.error) {
                return "<p>" + data.error + "</p>";
            }

            var resultCount = data.results.length;
            if (resultCount < 1) {
                return "<div class=\"alert alert-info s-lc-c-s-nores\">No\u0020events\u0020are\u0020scheduled.</div>";
            }

            var output = '<div class="s-lc-eventcard-outer-container"><div class="s-lc-eventcard-inner-container-condensed">';
            for (var i = 0; i < resultCount; i++) {
                var eventData = data.results[i];
                decorateEventDataWithCategoryDisplayInfo(eventData);
                addEventDataTextTranslations(eventData);
                eventData.campusAndLocation = getCampusAndLocationData(eventData);

                // if the event does not have a featured image then use the default card view image
                if (eventData.featured_image.length === 0) {
                    eventData.featured_image = cardViewDefaultImage;
                }

                output += Mustache.render(cardViewTemplate, eventData);
            }
            output += "</div></div>";
            output += "<div id=\"pag\"></div>";
            return output;
        }

        function paginate(totalResults, perPage) {
            var paginationElement = formatPaginationElement(activePage, perPage, totalResults);
            if (paginationElement === null) {
                return;
            }

            jQuery('#pag').append(paginationElement);

            jQuery('#pag li a').on('click', function () {
                activePage = jQuery(this).data('page');

                return runFilters();
            });
        }

        function decorateEventDataWithCategoryDisplayInfo(eventData) {
            var audienceCount = eventData.audiences.length;
            var categoryCount = eventData.categories_arr.length;

            var audiencesToShowInFull = 0;
            var categoriesToShowInFull = 1;

            if ((audienceCount > 0) && categoryCount > 0) {
                audiencesToShowInFull = 1;
                categoriesToShowInFull = 1;
            } else if (audienceCount > 0) {
                audiencesToShowInFull = Math.min(2, audienceCount);
            } else {
                categoriesToShowInFull = Math.min(2, categoryCount);
            }

            var toShowInFull = [];
            var toShowAsTooltip = [];

            for (var i=0; i < audienceCount; i++) {
                var audienceData = eventData.audiences[i];

                if (i < audiencesToShowInFull) {
                    toShowInFull.push({
                        isAudience: true,
                        id: audienceData.id,
                        name: audienceData.name,
                        color: audienceData.color,
                    });
                } else {
                    toShowAsTooltip.push(audienceData.name);
                }
            }

            for (var i=0; i < categoryCount; i++) {
                var categoryData = eventData.categories_arr[i];

                if (i < categoriesToShowInFull) {
                    toShowInFull.push({
                        isCategory: true,
                        id: categoryData.cat_id,
                        name: categoryData.name,
                        color: categoryData.color,
                    });
                } else {
                    toShowAsTooltip.push(categoryData.name);
                }
            }

            eventData.categoriesToShowInFull = toShowInFull;
            eventData.categoriesTooltip = toShowAsTooltip.join(", ");
        }

        function getCampusAndLocationData(eventData) {
                        var maxLocationsToShow = 2;
            var campusString = eventData.campus;
            var campusCount = campusString.length > 0 ? 1 : 0;
            var locationString = eventData.location;
            var locationCount = eventData.locationCount;

            if ((locationCount + campusCount) > maxLocationsToShow) {
                return "Multiple\u0020Locations";
            }

            var locations = [];
            if (campusCount > 0) {
                locations.push(campusString);
            }

            if (locationCount > 0) {
                locations.push(locationString);
            }

            return locations.join(", ");
        }

        function setupAudienceLabel() {
            var audienceHtml = "";
            jQuery("#audience-dd :selected").each(function (i, selected) {
                var value = jQuery(selected).val();
                audienceHtml += '<span class="label" style="background-color:' + jQuery(selected).data("bgcolor") + '">';
                audienceHtml += jQuery(selected).text();
                audienceHtml += '&nbsp;<a href="#" onclick="removeAudience(\'' + value + '\');"><i class="fa fa-times fa-lg" style="color:#fff" aria-hidden="true"></i></a></span>&nbsp;';
            });

            if (audienceHtml != "") {
                audienceHtml = '<span class="s-lc-c-e-audience-lab">Audience:</span> ' + audienceHtml;
            }

            jQuery("#s-lc-c-e-audience").html(audienceHtml);
        }

        function formatLabels() {
                        var catl = jQuery("#s-lc-c-e-cat");
            var caml = jQuery("#s-lc-c-e-cam");

            try {
                setupAudienceLabel();

                var cats_l = "";
                jQuery("#cat-dd :selected").each(function (i, selected) {
                    var v = jQuery(selected).val();
                    cats_l += " <span class=\"label\" style=\"background-color:" + jQuery(selected).data("bgcolor") + "\">" + jQuery(selected).text() + " <a href=\"#\" onclick=\"removeCat(\'" + v + "\');\"><i class=\"fa fa-times fa-lg\" style=\"color:#fff\"></i></a></span> ";
                });
                if (cats_l != "") {
                    cats_l = "<span class=\"s-lc-c-e-cat-lab\">Category:</span> " + cats_l;
                }
                catl.html(cats_l);

                var cams_l = "";
                jQuery("#cam-dd :selected").each(function (i, selected) {
                    var v = jQuery(selected).val();
                    cams_l += " <span class=\"label label-info\">" + jQuery(selected).text() + " <a href=\"#\" onclick=\"removeCam(\'" + v + "\');\"><i class=\"fa fa-times fa-lg\" style=\"color:#fff\"></i></a></span>";
                });
                if (cams_l != "") {
                    cams_l = "<span class=\"s-lc-c-e-cam-lab\">University\u0020Library:</span> " + cams_l;
                }
                caml.html(cams_l);
            } catch (err) {
            }
                    }

        function removeFilter(id, value) {
            var element = jQuery(id);

            var list = element.val();
            var index = list.indexOf(value);
            if (index > -1) {
                list.splice(index, 1);
            }

            element.val(list);
            element.selectpicker("refresh");

            runFilters();

            return false;
        }

        function removeAudience(value) {
            return removeFilter("#audience-dd", value);
        }

        function removeCat(value) {
            return removeFilter("#cat-dd", value);
        }

        function removeCam(value) {
            return removeFilter("#cam-dd", value);
        }

        function determineQueryString() {
            var categoryIds = getSelectedCategoryIds();
            var campusIds = jQuery("#cam-dd").val();
            var audienceIds = jQuery("#audience-dd").val();
            var calendarId = jQuery("#cal-dd").find(":selected").data("cal_id");
            var calendarIds = jQuery("#cal-dd").val();
            var qs = "";

            if (activeSearch) {
                var q = encodeURIComponent(jQuery("#s-lc-c-search").val());
                var caqs = "";
                if (calendarId != null) {
                    caqs = "&cid=" + calendarId;
                }
                qs = "?t=" + activeView + "&q=" + q + caqs;
            } else {
                qs = "?cid=" + calendarId + "&t=" + activeView + "&d=" + getDateToPassToPhp();
            }

            if (calendarIds.length) {
                qs = qs + "&cal=" + calendarIds;
            }

            if ((audienceIds != undefined) && (audienceIds.length)) {
                qs = qs + "&audience=" + audienceIds;
            }

            if (categoryIds.length) {
                qs = qs + "&ct=" + categoryIds;
            }

            if ((campusIds != undefined) && (campusIds.length)) {
                qs = qs + "&cm=" + campusIds;
            }

                                    if (activePage > 1) {
                qs = qs + "&page=" + activePage;
            }

            var includeEvents = jQuery('#include-events-dd').val();
            if (includeEvents !== undefined) {
                qs += '&inc=' + includeEvents;
            }

            return qs;
        }

        function listenForFilterChanges() {
                        jQuery("#audience-dd, #cat-dd, #cam-dd, #include-events-dd").on("changed.bs.select", runFiltersDueToOptionChange);
            jQuery("#cal-dd").on("changed.bs.select", runFiltersDueToCalendarChange);
                    }

        function stopListeningForFilterChanges() {
            jQuery("#audience-dd, #cat-dd, #cam-dd, #include-events-dd, #cal-dd").off("changed.bs.select");
        }

        function clearFilters() {
            stopListeningForFilterChanges();

            jQuery("#cal-dd").selectpicker("deselectAll").val(5014).selectpicker("refresh");
            jQuery("#cam-dd, #audience-dd").selectpicker("deselectAll").selectpicker("refresh");
            jQuery("#cat-dd").selectpicker("deselectAll").selectpicker("refresh");
            jQuery('#include-events-dd').val(defaultIncludeEvents).selectpicker('refresh');

            activeSearch = false;
            jQuery("#s-lc-c-search").val("");

            activeDate = moment("2020\u002D09\u002D24", springSpace.phpDateFormat);
            haveChosenSpecificDate = false;
            jQuery("#s-lc-filter-date").val("");
            createDatePicker();

            listenForFilterChanges();

            jQuery(".s-lc-nav-tab").removeClass("active");
            activePage = 1;

            return runFilters();
        }

        jQuery(function () {
            jQuery("#cal-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.calendar,
                width: "100\u0025",
                style: "btn-default btn-sm"

            });

            jQuery("#audience-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.audience,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery("#cat-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.category,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery("#cam-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.campus,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery('#include-events-dd').selectpicker({
                header: selectPickerHeaderText.include,
                width: '100\u0025',
                style: 'btn-default btn-sm'
            });

            jQuery(".s-lc-nav-list").on("click", function (e) {
                return setActiveViewMode("d");
            });

            jQuery(".s-lc-nav-monthly").on("click", function (e) {
                return setActiveViewMode("m");
            });

            jQuery('.s-lc-nav-weekly').on('click', function () {
                return setActiveViewMode('w');
            });

            jQuery(".s-lc-nav-card").on("click", function (e) {
                return setActiveViewMode("g");
            });

            jQuery("#s-lc-c-sbtn").click(function () {
                                setActiveViewModeToSearch();
                
                return runFilters();
            });

            jQuery("#s-lc-c-search").keyup(function (e) {
                if (e.keyCode == 13) {
                    setActiveViewModeToSearch();

                    return runFilters();
                }

                return true;
            });

            jQuery(".s-lc-filters-clear").click(clearFilters);

            jQuery("#cal-form").on("submit", function (e) {
                e.preventDefault();
            });

            jQuery('.s-lc-c-timezone-change').on('click', springyPublic.showTimezoneModal);

            updateCategoryFilters(
                [5014,],
                []
            );

            var cals = jQuery("#cal-dd").val();
            if (cals == null) {
            } else {
                jQuery("#s-lc-c-catf .bootstrap-select").prop("title", "");
            }

            listenForFilterChanges();

            accessibleIcons();

                        activeView = "d";
            activeSearch = false;
            createDatePicker();
            runFilters();
        });
    </script>  
 </body>
</html><!doctype html>
<html lang="en"> 
 <head> <!-- iid: 1798 --> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet"> 
  <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.min.css" rel="stylesheet"> 
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> 
  <link href="/css583/LibCal_public.min.css" rel="stylesheet"> 
  <link href="/css583/print.min.css" rel="stylesheet" media="print"> 
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script> 
  <script>
        window.jQuery || document.write('<script src="/js583/jquery.min.js">\x3C/script>');
    </script> 
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> 
  <script>
        jQuery.ui || document.write('<script src="/js583/jquery-ui.min.js">\x3C/script>');
    </script> 
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> 
  <script>
        (typeof $().modal == 'function') || document.write('<script src="/js583/bootstrap.min.js">\x3C/script>');
    </script> 
  <script src="/js583/LibCal_public.min.js"></script> 
  <script>
    springSpace.dateFormat = "dddd, MMMM D, YYYY";
    springSpace.dateShortFormat = "dddd, MMMM D, YYYY";
    springSpace.timeFormat = "h:mma";
    springSpace.timezone = 'America/Los_Angeles';
    springSpace.currency = "USD";
    springSpace.currencySymbol = "$";

    springSpace.language = 'en'; // en
    springSpace.locale = 'en-US'; // en-US

    springSpace.phpTimeFormat = 'g:ia';

    springSpace.bootstrapAsset = '/css583/bootstrap.min.css';
    springSpace.publicCssAsset = '/css583/LibCal_public.min.css';
    springSpace.adminCssAsset = '/css583/LibCal_admin.min.css';

    jQuery(function() {
                moment.locale(springSpace.locale);

                setupDatePickerLanguage();
    });
</script> 
  <script>
         var springLang  = { eq_GoToNextAvailable: "Next Available", eq_js_add_cart_btn: "Add to Cart", eq_js_add_cc_btn: "Add to Cart & Checkout", eq_js_add_eq_btn: "Add Equipment", eq_js_add_start: "All additional items must have a starting time of", eq_js_add_to_cart: "Add Item to Cart", eq_js_booking_summary_title: "Thank you!", eq_js_cart_tt: "Create a shopping cart with these space bookings, and go to equipment booking page to add more items to the cart.", eq_js_close: "Close", eq_js_date: "Change Return Date", eq_js_det_return: "Determining return time", eq_js_from: "From:", eq_js_from_det: "from", eq_js_go_to_date: "Go To Date", eq_js_isRequired: "is required!", eq_js_rem_pending: "Remove Pending Booking", eq_js_spacew_forb_multi: "Forbidden from booking same resource multiple times in a single booking.<br><br>Please only select sequential checkboxes.", eq_js_spacew_forb_single: "Forbidden from booking different resources in a single booking.", eq_js_to: "To:", eq_js_until_det: "until...", eq_start_over: "Make Another Booking", eq_unavail: "Unavailable/Padding", eq_your_book: "Your Booking" };
    </script> 
  <title>Library Calendar Event - Library Events - California State Polytechnic University, Pomona</title> 
  <link rel="alternate" type="application/rss+xml" title="Latest Events" href="/rss.php?iid=1798&amp;m=month&amp;cid=5014"> 
  <link rel="stylesheet" href="/css583/datepicker.min.css"> 
  <style>
        .bs-placeholder {
        color: #333 !important;
    }

    .s-lc-c-erh {
        margin-top: 6px;
    }

    .s-lc-c-timezone-horiz {
        float: left;
        padding-bottom: 6px;
    }

    .s-lc-c-list-cont-horiz {
        clear: both;
    }

        /* This CSS controls: */
/* Public and Admin System Calendar */
/* Public Full and Mini Calendar Widget */



/*Embeddable mini-calendar - from Widgets/API section */

#mini-calendar { border: 3px solid #066A9E; padding: 2px; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px;}
.cal-mini {width: 100%; font-family: Arial, Verdana, sans-serif; }
.cal-mini td { border-right: 1px solid #f2f2f2; }
.cal-mini-day-head, .cal-mini-title-row td {border: 0px!important;  background-color: #f2f2f2;}
.cal-mini-title {text-align: center; color: #362E2C; font: bold 14px Arial, Verdana, sans-serif;}
.cal-mini-day-head { color: #7F7F7F; text-align: center; font-size: 12px; font-weight: bold; }
.cal-mini-arrow { text-align: center!important; font-size: 16px;}
.cal-mini-day-num, .cal-mini-day-pad { text-align: center;  color: #362E2C; margin:1px;}
.cal-mini-hasevent a { -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; background-color: #FF972F;  border: 1px solid #fff; display: block; color: #fff; text-decoration: none; }
.cal-mini-hasevent a:hover { background-color: #fff; color: #FF972F; text-decoration: none; border: 1px solid #FF972F; }
#calevent-mini-list-h { padding: 3px 0px 3px 5px; color: #362E2C; border-top: 1px solid #f2f2f2; border-bottom: 1px solid #066A9E; background-color: #f2f2f2; font: bold 12px Arial, Verdana, sans-serif; }
.calevent-mini { list-style-type: none; padding: 0px; margin:0px; overflow: auto; }
.calevent-mini-time { padding: 0px; margin: 0px; color: #4A4A4A; font-size: 11px;} 
.calevent-mini li a{ font-weight: bold; }
.calevent-mini li{ padding: 0px 5px; margin: 0px; border-bottom: 1px solid #f2f2f2; }
.calevent-mini li:hover{ background-color: #f2f2f2; }

/* Edits for color contrast */

/*.cat39023[style] { color:#fff !important;}
s-lc-cal-tip-title { color:#fff !important;}
.s-lc-cal-tip{ color:#fff !important;} */

/* Change background color in Today */

td.fc-today {background:#DDD !important;}

    </style> 
  <style>
.fc-time-area.fc-widget-header {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    background-color:  #fff;
    z-index: 1000;
}
</style> 
 </head> 
 <body id="calendar_5014" class="s-lc-public s-lc-public-page-5"> 
  <div class="sr-only" title="Information for Screenreader Users"> 
  </div> <a id="s-lc-public-skiplink" class="s-lc-skiplink alert-info" href="#s-lc-public-main">Skip to Main Content</a> 
  <div class="container"> 
   <div id="s-lc-public-bc" class="row"> 
    <div class="col-md-12"> 
     <ol class="breadcrumb" role="navigation"> 
      <li><a href="http://www.cpp.edu/~library/index.shtml">California State Polytechnic University, Pomona</a></li> 
     </ol> 
    </div> 
   </div> 
   <noscript> 
    <div class="alert alert-danger" id="noscript">
     Your browser has javascript disabled. Without javascript some functions will not work.
    </div> 
   </noscript> 
   <main> 
    <div id="s-lc-public-main" class="s-lc-public-main"> 
     <section> 
      <div id="s-lc-public-page-content" class="row"> 
       <div id="col1" class="col-md-12 center"> 
        <div class="col-md-3 s-lc-c-l"> 
         <form id="cal-form" role="search"> 
          <div id="s-lc-filter-date" class="s-lc-c-datepicker"> 
          </div> 
          <div class="form-group"> <label class="sr-only" for="s-lc-c-search">Search</label> 
           <div class="input-group" id="s-lc-c-sc"> 
            <input type="text" class="form-control" name="q" id="s-lc-c-search" value="" aria-required="false" placeholder="Search for event..." aria-label="Search for event..." role="searchbox"> <span class="input-group-btn"> <button type="button" class="btn btn-default" id="s-lc-c-sbtn">Search</button> </span> 
           </div> 
          </div> 
          <div class="form-group"> <label for="cal-dd">Calendar<span title="Required">*</span></label> <select name="cal[]" id="cal-dd" class="selectpicker" multiple title="Calendar" aria-required="true" data-size="15" data-selected-text-format="count>2"> <option value="-1" data-cal_id="-1">Show All</option> <option data-divider="true"></option> <option value="5014" selected data-cal_id="5014">Library Calendar Event</option> </select> 
          </div> <span class="s-lc-bold">Filter by</span> 
          <div id="s-lc-c-filters" class="form-group"> 
           <div id="s-lc-c-catf"> <label class="sr-only" for="cat-dd">Category</label> <select name="ct[]" id="cat-dd" aria-required="false" class="selectpicker" multiple title="Category" data-size="15" data-selected-text-format="count>2"> </select> 
           </div> 
           <div id="s-lc-c-audiencef"> <label class="sr-only" for="audience-dd">Audience</label> <select name="audience[]" id="audience-dd" aria-required="false" class="selectpicker" multiple title="Audience" data-size="15" data-selected-text-format="count>2"> <option value="1770" data-cal_id="1770" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Community</span>"> Community </option> <option value="450" data-cal_id="450" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Faculty</span>"> Faculty </option> <option value="448" data-cal_id="448" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Graduate</span>"> Graduate </option> <option value="451" data-cal_id="451" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Staff</span>"> Staff </option> <option value="449" data-cal_id="449" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Undergraduate</span>"> Undergraduate </option> </select> 
           </div> 
           <div id="s-lc-c-camf"> <label class="sr-only" for="cam-dd">University Library</label> <select name="cm[]" id="cam-dd" aria-required="false" class="selectpicker" multiple title="University Library" data-size="15" data-selected-text-format="count>2"> <option value="2869" data-cal_id="2869">Building 15</option> </select> 
           </div> 
           <div id="s-lc-c-online-filter"> <label class="sr-only" for="include-events-dd"> Include Events </label> <select name="include-events" id="include-events-dd" aria-required="false" class="selectpicker"> <option value="0"> Onsite And Online </option> <option value="1"> Online Only </option> <option value="2"> Onsite Only </option> </select> 
           </div> 
          </div> <button type="submit" class="sr-only">Submit</button> <a href="#" id="s-lc-c-clear" class="s-lc-filters-clear margin-bottom-med">Clear All</a> 
         </form> 
        </div> <!-- Right side //--> 
        <div class="col-md-9 s-lc-c-r"> 
         <div id="s-lc-c-view-modes" class="s-lc-c-view-modes"> 
          <div class="btn-group"> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-card"> <i class="fa fa-th fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Card View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-list"> <i class="fa fa-align-justify fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Day/List View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-monthly"> <i class="fa fa-calendar fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Monthly View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-weekly"> <i class="fa fa-calendar-o fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Weekly View</span> </button> 
          </div> 
         </div> 
         <div class="s-lc-c-erc"> 
          <h1 class="s-lc-c-erh"><span id="s-lc-c-header-title"></span> - <span id="s-lc-c-header-subtitle"></span></h1> 
          <div id="s-lc-c-e-audience"></div> 
          <div id="s-lc-c-e-cat"></div> 
          <div id="s-lc-c-e-cam"></div> 
          <div class="s-lc-timezone-container s-lc-c-timezone-vert s-lc-c-timezone">
            Time Zone: Pacific Time - US &amp; Canada (<a href="#" class="s-lc-c-timezone-change">change</a>) 
          </div> 
         </div> 
         <div id="s-lc-c-list-cont"></div> 
        </div> 
       </div> 
      </div> 
     </section> 
    </div> 
   </main> 
   <footer id="s-lc-public-footer" class="s-lc-public-footer row"> 
    <div id="s-lc-public-footer-brand"> <span title="libcal-us-2">Powered by</span> <a href="https://www.springshare.com">Springshare</a>. 
    </div> 
    <div id="s-lc-public-footer-rights">
      All rights reserved. 
    </div> 
    <div id="s-lc-footer-support-link"> <a href="mailto:alafarga@cpp.edu">Report a tech support issue.</a> 
    </div> 
    <div id="s-lc-public-footer-admin-links" role="navigation"> <a id="s-lc-sign-in" href="https://cpp.libapps.com/libapps/login.php?site_id=4641&amp;target=">Login to LibApps</a> 
    </div> 
    <div class="s-lc-public-footer-actions"> 
     <div id="s-lc-language"> <select id="s-lc-language-selector" role="select" aria-label="Language Selector"> <option value="cy">Cymraeg</option> <option value="en" selected>English</option> <option value="es">español</option> <option value="fr">français</option> <option value="sl">slovenski jezik</option> </select> 
     </div>
    </div> 
   </footer> 
  </div> 
  <script src="/js583/datepicker.min.js"></script> 
  <script src="/js/history.js"></script> 
  <script src="/js583/direct/pagination.min.js"></script> 
  <script src="/js583/direct/public/events/calendar.min.js"></script> 
  <script>
        function addEventDataTextTranslations(eventData) {
            eventData.textMore = 'More';
            eventData.textViewMoreInfo = 'View\u0020More\u0020Information';
            eventData.textShowMoreDates = 'Show\u0020more\u0020dates';
            eventData.textFeaturedImage = 'Event\u0020featured\u0020image';
            eventData.textGoToEvent = 'Go\u0020to\u0020event\u0020page';

            eventData.textDate = 'Date';
            eventData.textTime = 'Time';
            eventData.textLocation = 'Location';
            eventData.textCategories = 'Categories';
            eventData.textAudience = 'Audience';
            eventData.textFrom = 'From';
            eventData.textTo = 'To';
            eventData.textEventCost = '_ev_eventCost_';
            eventData.textOnlineEvent = 'Online';
            eventData.textRegister = 'Register';
        }
    </script> 
  <script>
        var activeSearch = false;
        var activeView = "d";
        var activePage = 1;
        var activeDate = moment("2020\u002D09\u002D24", springSpace.phpDateFormat).locale('en');
        var haveChosenSpecificDate = 0;
        var resultsPerPageViewMap = {
            "g": 48,
            "d": 20,
        };
        var momentWeekFormat = 'week';

        
        var datePickerTemplates = {
            leftArrow: '<span class="sr-only"> + springLang.Ge_Next + </span>&laquo;',
            rightArrow: '<span class="sr-only"> + springLang.Ge_Prev + </span>&raquo;'
        };

        var template = "<div class=\"media s-lc-c-evt\">\r\n    <div class=\"media-body\"><h3 class=\"media-heading\"><a href=\"{{url}}\">{{title}}<\/a><\/h3>\r\n        <div class=\"s-lc-c-evt-des\">{{{shortdesc}}}<\/div>\r\n        <dl class=\"dl-horizontal\">\r\n            <dt>Date:<\/dt>\r\n            <dd>{{date}}\r\n                {{#future_dates.0}}\r\n                    <i class=\"fa fa-calendar pad-left-med\" aria-hidden=\"true\"><\/i>\r\n                    <a href=\"#\" onclick=\"jQuery('#future_{{id}}').toggle(); return false;\"> Show more dates<\/a>\r\n                    <p id=\"future_{{id}}\" style=\"display:none\">\r\n                        {{#future_dates}}\r\n                        <a href=\"\/event\/{{event_id}}\">{{start}}<\/a><br>\r\n                        {{\/future_dates}}\r\n                    <\/p>\r\n                {{\/future_dates.0}}\r\n            <\/dd>\r\n\r\n            <dt>Time:<\/dt>\r\n            <dd>{{start}}{{#end}} - {{end}}{{\/end}}<\/dd>\r\n\r\n            <dt>Location:<\/dt>\r\n            <dd>{{#location}}{{location}}{{#campus}}, {{\/campus}}{{\/location}}{{#campus}}{{campus}}{{\/campus}}<\/dd>\r\n\r\n            {{#audiences.0}}\r\n            <dt>Audience:<\/dt>\r\n            <dd>{{#audiences}}\r\n                <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\r\n                <span class=\"s-lc-event-category-link\">\r\n                    <a href=\"{{calendar_url}}&t=d&cal%5B%5D={{calendar_id}}&audience%5B%5D={{id}}\">{{name}}<\/a>\r\n                <\/span> \u00a0\r\n                {{\/audiences}}\r\n            <\/dd>\r\n            {{\/audiences.0}}\r\n\r\n            {{#categories_arr.0}}\r\n            <dt>Categories:<\/dt>\r\n            <dd>{{#categories_arr}}\r\n                <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\r\n                <span class=\"s-lc-event-category-link\">\r\n                    <a href=\"{{calendar_url}}&t=d&d=0000-00-00&cal%5B%5D={{calendar_id}}&ct%5B%5D={{cat_id}}\">{{name}}<\/a>\r\n                <\/span> \u00a0\r\n                {{\/categories_arr}}\r\n            <\/dd>\r\n            {{\/categories_arr.0}}\r\n\r\n            <dt><\/dt>\r\n            <dd>\r\n                {{#seats}}\r\n                <dt><\/dt>\r\n                <dd><a href=\"{{url}}\" class=\"btn btn-success btn-sm margin-top-med\">Register! {{#seatsleft}} - {{seatsleft}} seats left{{\/seatsleft}}<\/a><\/dd>\r\n                {{\/seats}}\r\n\r\n                {{#registration_msg}}\r\n                <dt><\/dt>\r\n                <dd><a href=\"{{url}}\" class=\"btn {{class}} btn-sm margin-top-med\">{{msg}}<\/a><\/dd>\r\n                {{\/registration_msg}}\r\n            <\/dd>\r\n        <\/dl>\r\n    <\/div>\r\n    {{#featured_image}}\r\n    <div class=\"media-right\"><a href=\"{{url}}\"> <img class=\"media-object img-thumbnail s-lc-c-evt-fi\" src=\"{{featured_image}}\" alt=\"{{title}}\"> <\/a><\/div>\r\n    {{\/featured_image}}\r\n<\/div>";
        var cardViewTemplate = "<div class=\"s-lc-eventcard\">\n    <div class=\"s-lc-eventcard-content\">\n        <div class=\"s-lc-eventcard-heading\">\n            <div class=\"s-lc-eventcard-heading-content\">\n                <div class=\"s-lc-evt-date\">\n                    <div class=\"s-lc-evt-date-m\">{{monthshort}}<\/div>\n                    <div class=\"s-lc-evt-date-d\">{{day}}<\/div>\n                <\/div>\n\n                <div class=\"s-lc-eventcard-heading-text-group\">\n                    <div class=\"s-lc-eventcard-heading-text s-lc-hide-long-text\">\n                        {{^multi_day_event}}\n                            {{dayshort}}, {{start}}{{#end}} - {{end}}{{\/end}}\n                        {{\/multi_day_event}}\n\n                        {{#multi_day_event}}\n                            {{monthshort}} {{day}} -\n                            {{#multi_day_end}}\n                                {{monthshort}} {{day}}\n                            {{\/multi_day_end}}\n                        {{\/multi_day_event}}\n\n                        {{#online_event}}\n                            <span class=\"label label-info s-lc-eventcard-online-pill\">\n                                {{textOnlineEvent}}\n                            <\/span>\n                        {{\/online_event}}\n                    <\/div>\n                    <div class=\"s-lc-eventcard-heading-text s-lc-hide-long-text\">{{campusAndLocation}}<\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n\n        <div class=\"s-lc-eventcard-event-color-bar\" style=\"background-color: {{color}}\">\n        <\/div>\n\n        <div class=\"s-lc-eventcard-body\">\n            {{#seatsleft}}\n                <div class=\"s-lc-ribbon s-lc-ribbon-top-right\">\n                    <span>\n                        {{seatsleft_text}}\n                    <\/span>\n                <\/div>\n            {{\/seatsleft}}\n\n            <h2 class=\"s-lc-eventcard-title\">\n                <a title=\"{{title}}\" href=\"{{url}}\">\n                    {{title}}\n                <\/a>\n            <\/h2>\n\n            {{#shortdesc}}\n            <div class=\"s-lc-eventcard-description\">\n                {{{shortdesc}}}\n                {{#shortdesc_was_truncated}}\n                &nbsp;<a href=\"{{url}}\" aria-label=\"{{textViewMoreInfo}}\">{{textMore}}<\/a><br>\n                {{\/shortdesc_was_truncated}}\n            <\/div>\n            {{\/shortdesc}}\n\n            {{#registration_cost}}\n                <br>\n                <div class=\"s-lc-eventcard-registration-cost\">\n                    {{textEventCost}}: {{registration_cost}}\n                <\/div>\n            {{\/registration_cost}}\n        <\/div>\n\n        <div class=\"s-lc-eventcard-tags\">\n            <ul>\n                {{#categoriesToShowInFull}}\n                    <li class=\"s-lc-eventcard-tag\">\n                        <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\n                        <span class=\"s-lc-event-category-link\" data-toggle=\"tooltip\" title=\"{{name}}\">\n                            <a href=\"{{calendar_url}}&t=g&cal%5B%5D={{calendar_id}}{{#isCategory}}&ct={{id}}{{\/isCategory}}{{#isAudience}}&audience={{id}}{{\/isAudience}}\">\n                                {{name}}\n                            <\/a>\n                        <\/span>\n                    <\/li>\n                {{\/categoriesToShowInFull}}\n\n                {{#categoriesTooltip}}\n                    <li class=\"s-lc-eventcard-tag-more\">\n                        <a href=\"#\" data-toggle=\"tooltip\" title=\"{{categoriesTooltip}}\" aria-label=\"{{categoriesTooltip}}\">&hellip;<\/a>\n                    <\/li>\n                {{\/categoriesTooltip}}\n            <\/ul>\n        <\/div>\n    <\/div>\n<\/div>\n";
        var cardViewDefaultImage = 'https\u003A\/\/lcimages.s3.amazonaws.com\/event\u002Ddefault.png';

        var categoriesMappedByCalendar = { 5014: [] };
        var categoryNameToColorMap = {};
        var categoryNameToIdListsMap = {};

        
                var tempCategoryName = "Athletic\u0020Department\u0020Study\u0020Hall";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39031,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023A1C78D";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39031);
                var tempCategoryName = "Children\u0027s\u0020Story\u0020Time";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 49802,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F598B5";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(49802);
                var tempCategoryName = "Citation\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27779,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023FC7A00";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27779);
                var tempCategoryName = "Doctorial\u0020Meeting";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27778,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002396A9B3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27778);
                var tempCategoryName = "Faculty\u0020Meetings";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39022,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023B8A5B8";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39022);
                var tempCategoryName = "Fashion\u0020Exhibit";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42925,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u00239B79E0";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42925);
                var tempCategoryName = "Finals\u0020De\u002DStress\u0020Week\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39028,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023EFC1F7";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39028);
                var tempCategoryName = "Hip\u002DHop\u0020Symposium";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39029,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u00239C76A6";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39029);
                var tempCategoryName = "Knowledge\u0020Center\u0020Activities";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 46330,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002380FF80";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(46330);
                var tempCategoryName = "Lib\u0020Instruction\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39025,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023B3C8EF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39025);
                var tempCategoryName = "Library\u0020Close";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39850,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023D2D5DB";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39850);
                var tempCategoryName = "Library\u0020Event";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27776,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023EBD634";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27776);
                var tempCategoryName = "Library\u0020Workshops";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50889,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50889);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Advanced\u0020Research\u0020Skills";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50891,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50891);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Basic\u0020Research\u0020Skills";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50890,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50890);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Special\u0020Topics\u0020Workshops";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50892,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50892);
                var tempCategoryName = "LRC\/RAMP\/Writing\u0020Center\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42922,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023627FB3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42922);
                var tempCategoryName = "Maker\u0020Studio\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 45443,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F5EDBF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(45443);
                var tempCategoryName = "National\u0020Library\u0020Week";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39027,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023984BAB";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39027);
                var tempCategoryName = "Outside\u0020Departments\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42923,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023AFBD75";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42923);
                var tempCategoryName = "Plagiarism\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27775,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F7A3A3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27775);
                var tempCategoryName = "Special\u0020Collections\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 43356,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023C9E6F5";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(43356);
                var tempCategoryName = "The\u0020Library\u0020Club\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39023,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023C3ADF0";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39023);
                var tempCategoryName = "Thesis\/Project\u0020Formatting\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27774,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023FAB941";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27774);
                var tempCategoryName = "Welcome\u0020Week\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39026,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023CBF035";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39026);
        
        var calendarNameMap = {};
                    calendarNameMap[-1] = "All\u0020Calendars";
                        calendarNameMap[5014] = "Library\u0020Calendar\u0020Event";
                    
        var audienceNameMap = {};
                    audienceNameMap[1770] = "Community";
                    audienceNameMap[450] = "Faculty";
                    audienceNameMap[448] = "Graduate";
                    audienceNameMap[451] = "Staff";
                    audienceNameMap[449] = "Undergraduate";
        
        var categoryNameMap = {};
                    categoryNameMap[39031] = "Athletic\u0020Department\u0020Study\u0020Hall";
                    categoryNameMap[49802] = "Children\u0027s\u0020Story\u0020Time";
                    categoryNameMap[27779] = "Citation\u0020Workshop";
                    categoryNameMap[27778] = "Doctorial\u0020Meeting";
                    categoryNameMap[39022] = "Faculty\u0020Meetings";
                    categoryNameMap[42925] = "Fashion\u0020Exhibit";
                    categoryNameMap[39028] = "Finals\u0020De\u002DStress\u0020Week\u0020";
                    categoryNameMap[39029] = "Hip\u002DHop\u0020Symposium";
                    categoryNameMap[46330] = "Knowledge\u0020Center\u0020Activities";
                    categoryNameMap[39025] = "Lib\u0020Instruction\u0020";
                    categoryNameMap[39850] = "Library\u0020Close";
                    categoryNameMap[27776] = "Library\u0020Event";
                    categoryNameMap[50889] = "Library\u0020Workshops";
                    categoryNameMap[50891] = "Library\u0020Workshops\u0020\u003E\u0020Advanced\u0020Research\u0020Skills";
                    categoryNameMap[50890] = "Library\u0020Workshops\u0020\u003E\u0020Basic\u0020Research\u0020Skills";
                    categoryNameMap[50892] = "Library\u0020Workshops\u0020\u003E\u0020Special\u0020Topics\u0020Workshops";
                    categoryNameMap[42922] = "LRC\/RAMP\/Writing\u0020Center\u0020";
                    categoryNameMap[45443] = "Maker\u0020Studio\u0020";
                    categoryNameMap[39027] = "National\u0020Library\u0020Week";
                    categoryNameMap[42923] = "Outside\u0020Departments\u0020";
                    categoryNameMap[27775] = "Plagiarism\u0020Workshop";
                    categoryNameMap[43356] = "Special\u0020Collections\u0020Events";
                    categoryNameMap[39023] = "The\u0020Library\u0020Club\u0020Events";
                    categoryNameMap[27774] = "Thesis\/Project\u0020Formatting\u0020Workshop";
                    categoryNameMap[39026] = "Welcome\u0020Week\u0020Events";
        
        var campusNameMap = {};
                    campusNameMap[2869] = "Building\u002015";
        
        var selectPickerCountSelectText = '{0} selected';
        var selectPickerHeaderText = {
            calendar:   'Filter\u0020by Calendar:',
            audience:   'Filter\u0020by Audience:',
            category:   'Filter\u0020by Category:',
            campus:     'Filter\u0020by University\u0020Library:',
            include: 'Include\u0020Events:',
        };

        var defaultIncludeEvents = 0;
        var includeEventsLabel = 'Include\u0020Events';

        var springyPage = {
            iid: 1798,
            isFullCalendarView: 0,
            calendarStartDay: 0,
            lang: {
                category: 'Category',
                campus: 'University\u0020Library',
                location: 'Location',
                presenter: 'Presenter',
                audiences: 'Audiences',
                categories: 'Categories',
                seats: 'Seats',
                shortDesc: 'Description',
                allDay: 'All\u0020Day',
                time: 'Time',
            }
        };

        function addCalendarCategoriesToDict(categoryDictionary, calendarCategories) {
            for (var i = 0; i < calendarCategories.length; i++) {
                var calendarCategory = calendarCategories[i];
                categoryDictionary[calendarCategory.name] = true;
            }
        }

        function getDictionaryOfCategories(calendarIds) {
            var categoryDictionary = {};

                        if (0 in categoriesMappedByCalendar) {
                addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[0]);
            }

                        for (var i = 0; i < calendarIds.length; i++) {
                var calendarId = calendarIds[i];

                if (calendarId == -1) {
                                        addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[5014]);
                                        break;
                }


                addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[calendarId]);
            }

            return categoryDictionary;
        }

        function getSortedKeys(categoryDictionary) {
            var sortedKeys = [];
            for(var key in categoryDictionary) {
                sortedKeys.push(key);
            }
            sortedKeys.sort(compareStringIgnoreCase);

            return sortedKeys;
        }

        function updateCategoryFilters(calendarIds, selectedValues) {
            var categoryDictionary = getDictionaryOfCategories(calendarIds);

            var sortedKeys = getSortedKeys(categoryDictionary);

            var element = jQuery("#cat-dd");
            element.empty();

            for (var i = 0; i < sortedKeys.length; i++) {
                var categoryName = sortedKeys[i];
                var categoryColor = categoryNameToColorMap[categoryName];
                var selected = selectedValues.indexOf(categoryName) >= 0;

                var option = new Option(categoryName, categoryName, selected, selected);
                option.setAttribute('data-bgcolor', categoryColor);
                option.setAttribute('data-content', '<span class="label" style="background-color:' + categoryColor + '">&nbsp;</span> ' + categoryName + '</span>');
                element.append(option);
            }

            element.selectpicker('refresh');
        }

        function runFiltersDueToOptionChange(event, clickedIndex, newValue, oldValue) {
            activePage = 1;

            return runFilters();
        }

                var calendarFilterInProgress = false;

        function ensureValidCalendarSelection(element, clickedIndex) {
            if (clickedIndex == 0) {
                // if the show all option is selected - make it the only option selected
                element.selectpicker('deselectAll').val(-1).selectpicker("refresh");
            } else {
                // ensure the select all option is not selected if we pick a different option
                element.find("[value=-1]").prop("selected", false);
                element.selectpicker("refresh");
            }
        }

        function runCalendarSelectionValidation(event, clickedIndex, newValue, oldValue) {
            var element = jQuery(this);
            ensureValidCalendarSelection(element, clickedIndex);
        }

        function runFiltersDueToCalendarChange(event, clickedIndex, newValue, oldValue) {
            if (calendarFilterInProgress) {
                return false;
            }

            calendarFilterInProgress = true;

            var element = jQuery(this);
            ensureValidCalendarSelection(element, clickedIndex);

            calendarFilterInProgress = false;

            // if no options are selected - reset the select picker back to the original value
            var calendarIds = element.val();
            if (calendarIds.length == 0) {
                element.val(5014).selectpicker("refresh");
                calendarIds = [5014];
            }

            // toggle the categories display to only show those valid for these calendars
            updateCategoryFilters(calendarIds, jQuery("#cat-dd").val());

            activePage = 1;

            return runFilters();
        }

        function getSelectedCategoryIds() {
            var selectedCategoryIds = [];

            var categoryNames = jQuery("#cat-dd").val();
            if (categoryNames == undefined) {
                return selectedCategoryIds;
            }

            for (var i = 0; i < categoryNames.length; i++) {
                var categoryName = categoryNames[i];
                var categoryIds = categoryNameToIdListsMap[categoryName];
                Array.prototype.push.apply(selectedCategoryIds, categoryIds);
            }

            return selectedCategoryIds;
        }

        function createDatePicker() {
                        var minViewMode = (activeView == "m") ? 1 : 0;

                        var displayDateFormat = (activeView == "m") ? "MMMM YYYY" : springSpace.dateFormat;

            var element = jQuery("#s-lc-filter-date");
            element.off('changeDate');
            element.datepicker("destroy");

            element.datepicker({
                language: "en",
                format: {
                    toDisplay: function (date, format, language) {
                        return moment.utc(date).locale("en").format(displayDateFormat);
                    },
                    toValue: function (date, format, language) {
                        return new Date(date);
                    }
                },
                minViewMode: minViewMode,
                autoclose: true,
                                todayHighlight: 0,
                defaultViewDate: {"year": 2020, "month": 8, "day": 24},
                templates: datePickerTemplates
            });

            if (haveChosenSpecificDate) {
                element.datepicker("setDate", activeDate.toDate());
            }

            datePickerAccessibilityFix(element);

            element.on("changeDate", function () {
                haveChosenSpecificDate = true;
                activeDate = moment(jQuery(this).datepicker("getDate"));

                
                                activePage = 1;
                activeSearch = false;
                jQuery("#s-lc-c-search").val("");

                return runFilters();
                            });
        }

        function setActiveViewMode(viewMode) {
            activeView = viewMode;
            activePage = 1;

            createDatePicker();

            return runFilters();
        }

        function setActiveViewModeToSearch() {
            var searchString = jQuery("#s-lc-c-search").val();
            if (searchString.length < 2) {
                errorAlert("Search\u0020string\u0020must\u0020be\u0020at\u0020least\u00202\u0020characters.");
                return false;
            }

            activeSearch = true;
            activePage = 1;

            // keep people on their current view mode, with the exception of the monthly/weekly
            //  view modes as they do not yet support searches
            if ((activeView === 'm') || (activeView === 'w')) {
                activeView = 'd';
                createDatePicker();
            }
        }

        function getDateToPassToPhp() {
            if (!haveChosenSpecificDate) {
                return "0000-00-00";
            }

            if (activeView == "m") {
                return activeDate.format("YYYY-MM");
            }

            return activeDate.format("YYYY-MM-DD");
        }

        function getListOfNames(idNameMap, ids) {
            var names = [];

            for (var i=0; i < ids.length; i++) {
                var id = ids[i];
                var name = idNameMap[id];
                if (name === undefined) {
                    continue;
                }

                names.push(name);
            }

            return names.join(", ");
        }

        function gatherFilterOptionsInUse() {
            var categoryIds = getSelectedCategoryIds();
            var campusIds = jQuery("#cam-dd").val();
            var audienceIds = jQuery("#audience-dd").val();
            var calendarIds = jQuery("#cal-dd").val();
            var search = jQuery("#s-lc-c-search").val();

            var filterOptions = [];

            if (search.length > 0) {
                filterOptions.push(["Keywords", escapeHtml(search)]);
            }

            if (haveChosenSpecificDate) {
                                var displayDateFormat = (activeView == "m") ? "MMMM YYYY" : springSpace.dateFormat;
                filterOptions.push(["Date", activeDate.locale("en").format(displayDateFormat)]);
            }

            if (calendarIds.length > 0) {
                filterOptions.push(["Calendar", getListOfNames(calendarNameMap, calendarIds)]);
            }

            if ((audienceIds != undefined) && (audienceIds.length > 0)) {
                filterOptions.push(["Audience", getListOfNames(audienceNameMap, audienceIds)]);
            }

            if (categoryIds.length > 0) {
                filterOptions.push(["Category", getListOfNames(categoryNameMap, categoryIds)]);
            }

            if ((campusIds != undefined) && (campusIds.length > 0)) {
                filterOptions.push(["University\u0020Library", getListOfNames(campusNameMap, campusIds)]);
            }

            filterOptions.push([includeEventsLabel, jQuery('#include-events-dd option:selected').text()]);

            return filterOptions;
        }

        function showFiltersUsedOnScreen() {
            var filterOptions = gatherFilterOptionsInUse();
            var html = "Filters\u0020applied\u003A\u0020";

            for (var i=0; i < filterOptions.length; i++) {
                var filterOption = filterOptions[i];
                var name = filterOption[0];
                var value = filterOption[1];

                if (value.length === 0) {
                    continue;
                }

                html += "<strong>" + name + "</strong>: <em>" + value + "</em>";

                if (i < (filterOptions.length - 1)) {
                    html += ";&nbsp;&nbsp;&nbsp;";
                }
            }

            jQuery("#s-lc-c-filters-used").html(html).show();
        }

        function runFilters() {
            jQuery(".s-lc-nav-tab").removeClass("active");

                        History.pushState(null, document.title, determineQueryString());

            
            var searchString = jQuery("#s-lc-c-search").val();
            if (searchString.length > 0) {
                if (!activeSearch) {
                    setActiveViewModeToSearch();
                }
            } else {
                activeSearch = false;
            }

            if (activeView == 'm') {
                jQuery('.s-lc-nav-monthly').addClass('active');
                if (springyPage.isFullCalendarView) {
                    return runFullCalendarMonthlyOrWeekly(true);
                }

                return runMonthlyOrWeekly(true);
            }

            if (activeView === 'w') {
                jQuery('.s-lc-nav-weekly').addClass('active');
                if (springyPage.isFullCalendarView) {
                    return runFullCalendarMonthlyOrWeekly(false);
                }

                return runMonthlyOrWeekly(false);
            }

            if (activeView == "g") {
                jQuery(".s-lc-nav-card").addClass("active");
            } else {
                jQuery(".s-lc-nav-list").addClass("active");
            }

            if (activeSearch) {
                return runSearch();
            }

            if (activeView == "g") {
                return runCardView();
            }

            return runDaily();
        }

        function beginBusyWait() {
            workingAlert();

                    }

        function endBusyWait() {
            stopAlert();

                    }

        function formatResultsHeader(subTitle, header) {
                        var cals = jQuery("#cal-dd").val();
            if (typeof header !== 'undefined') {
                var calendarName = header;
            } else if (cals == null) {
                jQuery("#cal-dd").val(5014);
                jQuery("#cal-dd").selectpicker("refresh");
                var calendarName = jQuery("#cal-dd").find(":selected").text();
            } else if (cals.length > 1) {
                var calendarName = 'Multiple\u0020Calendars';
            } else {
                var calendarName = jQuery("#cal-dd").find(":selected").text();
            }

            jQuery('#s-lc-c-header-title').html(calendarName);
            jQuery('#s-lc-c-header-subtitle').html(subTitle);
                        return false;
        }

        function runMonthlyOrWeekly(isMonthly) {
            var cals = jQuery('#cal-dd').val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery('#cam-dd').val();
            var audience = jQuery('#audience-dd').val();
            var includeEvents = jQuery('#include-events-dd').val();
            var date = activeDate.format(springSpace.phpDateFormat);

            var cal_cont = jQuery('#s-lc-c-list-cont');

            beginBusyWait();

            var headerSubTitle = calendarUtils.getDateHeading(activeDate, isMonthly, momentWeekFormat);

            jQuery.ajax({
                url: "/ajax/calendar/monthly?c=" + cals + '&date=' + date + '&monthly=' + isMonthly + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function (calData) {
                formatResultsHeader(headerSubTitle);

                if (calData.error) {
                    cal_cont.html('<p>' + calData.error + '</p>');
                } else {
                    cal_cont.html(calData.cal);
                }

                                                                var screenWidth = jQuery(window).width();
                if (screenWidth > springSpace.smallScreenSize) {
                    jQuery('[data-toggle="popover"]').popover();
                }

                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function runDaily() {
            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];

            beginBusyWait();

            if (haveChosenSpecificDate) {
                var day = activeDate.locale("en").format("LL");
            } else {
                var day = "Upcoming\u0020Events";
            }

            jQuery.ajax({
                url: "/ajax/calendar/list?c=" + cals + "&date=" + getDateToPassToPhp() + "&perpage=" + perPage + "&page=" + activePage + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(day);
                var output = formatResultsInListViewStyle(data);

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function runCardView() {
            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];

            beginBusyWait();

            if (haveChosenSpecificDate) {
                var day = activeDate.locale("en").format("LL");
            } else {
                var day = "Upcoming\u0020Events";
            }

            jQuery.ajax({
                url: "/ajax/calendar/list?c=" + cals + "&date=" + getDateToPassToPhp() + "&perpage=" + perPage + "&page=" + activePage + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(day);
                var output = formatResultsInCardViewStyle(data);

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
                accessibleIcons();
                jQuery(".s-lc-eventcard-tag-more").on("click", doNothing);
            })
            .fail(ajaxErrorHandler);
        }

        function doNothing() {
                        return false;
        }

        function runSearch() {
            var q = jQuery("#s-lc-c-search").val();
            if (q.length < 2) {
                errorAlert("Search\u0020string\u0020must\u0020be\u0020at\u0020least\u00202\u0020characters.");
                return false;
            }

            beginBusyWait();

            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];
            var t = q.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");

            jQuery.ajax({
                url: "/process_search.php?site_id=4641&cals=" + cals + "&perpage=" + perPage + "&page=" + activePage + "&q=" + encodeURIComponent(q) + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents + "&callback=?",
                dataType: "jsonp",
            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(t, 'Search\u0020Results');

                if (activeView === "g") {
                    var output = formatResultsInCardViewStyle(data);
                } else {
                    var output = formatResultsInListViewStyle(data);
                }

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function formatResultsInListViewStyle(data) {
            if (data.error) {
                return "<p>" + eventData.error + "</p>";
            }

            var results = data.results.length;
            if (results < 1) {
                return "<div class=\"alert alert-info s-lc-c-s-nores\">No\u0020events\u0020are\u0020scheduled.</div>";
            }

            var output = "";
            for (var i = 0; i < results; i++) {
                var eventData = data.results[i];
                addEventDataTextTranslations(eventData);
                output += Mustache.render(template, eventData);
            }
            output += "<div id=\"pag\"></div>";
            return output;
        }

        function formatResultsInCardViewStyle(data) {
            if (data.error) {
                return "<p>" + data.error + "</p>";
            }

            var resultCount = data.results.length;
            if (resultCount < 1) {
                return "<div class=\"alert alert-info s-lc-c-s-nores\">No\u0020events\u0020are\u0020scheduled.</div>";
            }

            var output = '<div class="s-lc-eventcard-outer-container"><div class="s-lc-eventcard-inner-container-condensed">';
            for (var i = 0; i < resultCount; i++) {
                var eventData = data.results[i];
                decorateEventDataWithCategoryDisplayInfo(eventData);
                addEventDataTextTranslations(eventData);
                eventData.campusAndLocation = getCampusAndLocationData(eventData);

                // if the event does not have a featured image then use the default card view image
                if (eventData.featured_image.length === 0) {
                    eventData.featured_image = cardViewDefaultImage;
                }

                output += Mustache.render(cardViewTemplate, eventData);
            }
            output += "</div></div>";
            output += "<div id=\"pag\"></div>";
            return output;
        }

        function paginate(totalResults, perPage) {
            var paginationElement = formatPaginationElement(activePage, perPage, totalResults);
            if (paginationElement === null) {
                return;
            }

            jQuery('#pag').append(paginationElement);

            jQuery('#pag li a').on('click', function () {
                activePage = jQuery(this).data('page');

                return runFilters();
            });
        }

        function decorateEventDataWithCategoryDisplayInfo(eventData) {
            var audienceCount = eventData.audiences.length;
            var categoryCount = eventData.categories_arr.length;

            var audiencesToShowInFull = 0;
            var categoriesToShowInFull = 1;

            if ((audienceCount > 0) && categoryCount > 0) {
                audiencesToShowInFull = 1;
                categoriesToShowInFull = 1;
            } else if (audienceCount > 0) {
                audiencesToShowInFull = Math.min(2, audienceCount);
            } else {
                categoriesToShowInFull = Math.min(2, categoryCount);
            }

            var toShowInFull = [];
            var toShowAsTooltip = [];

            for (var i=0; i < audienceCount; i++) {
                var audienceData = eventData.audiences[i];

                if (i < audiencesToShowInFull) {
                    toShowInFull.push({
                        isAudience: true,
                        id: audienceData.id,
                        name: audienceData.name,
                        color: audienceData.color,
                    });
                } else {
                    toShowAsTooltip.push(audienceData.name);
                }
            }

            for (var i=0; i < categoryCount; i++) {
                var categoryData = eventData.categories_arr[i];

                if (i < categoriesToShowInFull) {
                    toShowInFull.push({
                        isCategory: true,
                        id: categoryData.cat_id,
                        name: categoryData.name,
                        color: categoryData.color,
                    });
                } else {
                    toShowAsTooltip.push(categoryData.name);
                }
            }

            eventData.categoriesToShowInFull = toShowInFull;
            eventData.categoriesTooltip = toShowAsTooltip.join(", ");
        }

        function getCampusAndLocationData(eventData) {
                        var maxLocationsToShow = 2;
            var campusString = eventData.campus;
            var campusCount = campusString.length > 0 ? 1 : 0;
            var locationString = eventData.location;
            var locationCount = eventData.locationCount;

            if ((locationCount + campusCount) > maxLocationsToShow) {
                return "Multiple\u0020Locations";
            }

            var locations = [];
            if (campusCount > 0) {
                locations.push(campusString);
            }

            if (locationCount > 0) {
                locations.push(locationString);
            }

            return locations.join(", ");
        }

        function setupAudienceLabel() {
            var audienceHtml = "";
            jQuery("#audience-dd :selected").each(function (i, selected) {
                var value = jQuery(selected).val();
                audienceHtml += '<span class="label" style="background-color:' + jQuery(selected).data("bgcolor") + '">';
                audienceHtml += jQuery(selected).text();
                audienceHtml += '&nbsp;<a href="#" onclick="removeAudience(\'' + value + '\');"><i class="fa fa-times fa-lg" style="color:#fff" aria-hidden="true"></i></a></span>&nbsp;';
            });

            if (audienceHtml != "") {
                audienceHtml = '<span class="s-lc-c-e-audience-lab">Audience:</span> ' + audienceHtml;
            }

            jQuery("#s-lc-c-e-audience").html(audienceHtml);
        }

        function formatLabels() {
                        var catl = jQuery("#s-lc-c-e-cat");
            var caml = jQuery("#s-lc-c-e-cam");

            try {
                setupAudienceLabel();

                var cats_l = "";
                jQuery("#cat-dd :selected").each(function (i, selected) {
                    var v = jQuery(selected).val();
                    cats_l += " <span class=\"label\" style=\"background-color:" + jQuery(selected).data("bgcolor") + "\">" + jQuery(selected).text() + " <a href=\"#\" onclick=\"removeCat(\'" + v + "\');\"><i class=\"fa fa-times fa-lg\" style=\"color:#fff\"></i></a></span> ";
                });
                if (cats_l != "") {
                    cats_l = "<span class=\"s-lc-c-e-cat-lab\">Category:</span> " + cats_l;
                }
                catl.html(cats_l);

                var cams_l = "";
                jQuery("#cam-dd :selected").each(function (i, selected) {
                    var v = jQuery(selected).val();
                    cams_l += " <span class=\"label label-info\">" + jQuery(selected).text() + " <a href=\"#\" onclick=\"removeCam(\'" + v + "\');\"><i class=\"fa fa-times fa-lg\" style=\"color:#fff\"></i></a></span>";
                });
                if (cams_l != "") {
                    cams_l = "<span class=\"s-lc-c-e-cam-lab\">University\u0020Library:</span> " + cams_l;
                }
                caml.html(cams_l);
            } catch (err) {
            }
                    }

        function removeFilter(id, value) {
            var element = jQuery(id);

            var list = element.val();
            var index = list.indexOf(value);
            if (index > -1) {
                list.splice(index, 1);
            }

            element.val(list);
            element.selectpicker("refresh");

            runFilters();

            return false;
        }

        function removeAudience(value) {
            return removeFilter("#audience-dd", value);
        }

        function removeCat(value) {
            return removeFilter("#cat-dd", value);
        }

        function removeCam(value) {
            return removeFilter("#cam-dd", value);
        }

        function determineQueryString() {
            var categoryIds = getSelectedCategoryIds();
            var campusIds = jQuery("#cam-dd").val();
            var audienceIds = jQuery("#audience-dd").val();
            var calendarId = jQuery("#cal-dd").find(":selected").data("cal_id");
            var calendarIds = jQuery("#cal-dd").val();
            var qs = "";

            if (activeSearch) {
                var q = encodeURIComponent(jQuery("#s-lc-c-search").val());
                var caqs = "";
                if (calendarId != null) {
                    caqs = "&cid=" + calendarId;
                }
                qs = "?t=" + activeView + "&q=" + q + caqs;
            } else {
                qs = "?cid=" + calendarId + "&t=" + activeView + "&d=" + getDateToPassToPhp();
            }

            if (calendarIds.length) {
                qs = qs + "&cal=" + calendarIds;
            }

            if ((audienceIds != undefined) && (audienceIds.length)) {
                qs = qs + "&audience=" + audienceIds;
            }

            if (categoryIds.length) {
                qs = qs + "&ct=" + categoryIds;
            }

            if ((campusIds != undefined) && (campusIds.length)) {
                qs = qs + "&cm=" + campusIds;
            }

                                    if (activePage > 1) {
                qs = qs + "&page=" + activePage;
            }

            var includeEvents = jQuery('#include-events-dd').val();
            if (includeEvents !== undefined) {
                qs += '&inc=' + includeEvents;
            }

            return qs;
        }

        function listenForFilterChanges() {
                        jQuery("#audience-dd, #cat-dd, #cam-dd, #include-events-dd").on("changed.bs.select", runFiltersDueToOptionChange);
            jQuery("#cal-dd").on("changed.bs.select", runFiltersDueToCalendarChange);
                    }

        function stopListeningForFilterChanges() {
            jQuery("#audience-dd, #cat-dd, #cam-dd, #include-events-dd, #cal-dd").off("changed.bs.select");
        }

        function clearFilters() {
            stopListeningForFilterChanges();

            jQuery("#cal-dd").selectpicker("deselectAll").val(5014).selectpicker("refresh");
            jQuery("#cam-dd, #audience-dd").selectpicker("deselectAll").selectpicker("refresh");
            jQuery("#cat-dd").selectpicker("deselectAll").selectpicker("refresh");
            jQuery('#include-events-dd').val(defaultIncludeEvents).selectpicker('refresh');

            activeSearch = false;
            jQuery("#s-lc-c-search").val("");

            activeDate = moment("2020\u002D09\u002D24", springSpace.phpDateFormat);
            haveChosenSpecificDate = false;
            jQuery("#s-lc-filter-date").val("");
            createDatePicker();

            listenForFilterChanges();

            jQuery(".s-lc-nav-tab").removeClass("active");
            activePage = 1;

            return runFilters();
        }

        jQuery(function () {
            jQuery("#cal-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.calendar,
                width: "100\u0025",
                style: "btn-default btn-sm"

            });

            jQuery("#audience-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.audience,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery("#cat-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.category,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery("#cam-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.campus,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery('#include-events-dd').selectpicker({
                header: selectPickerHeaderText.include,
                width: '100\u0025',
                style: 'btn-default btn-sm'
            });

            jQuery(".s-lc-nav-list").on("click", function (e) {
                return setActiveViewMode("d");
            });

            jQuery(".s-lc-nav-monthly").on("click", function (e) {
                return setActiveViewMode("m");
            });

            jQuery('.s-lc-nav-weekly').on('click', function () {
                return setActiveViewMode('w');
            });

            jQuery(".s-lc-nav-card").on("click", function (e) {
                return setActiveViewMode("g");
            });

            jQuery("#s-lc-c-sbtn").click(function () {
                                setActiveViewModeToSearch();
                
                return runFilters();
            });

            jQuery("#s-lc-c-search").keyup(function (e) {
                if (e.keyCode == 13) {
                    setActiveViewModeToSearch();

                    return runFilters();
                }

                return true;
            });

            jQuery(".s-lc-filters-clear").click(clearFilters);

            jQuery("#cal-form").on("submit", function (e) {
                e.preventDefault();
            });

            jQuery('.s-lc-c-timezone-change').on('click', springyPublic.showTimezoneModal);

            updateCategoryFilters(
                [5014,],
                []
            );

            var cals = jQuery("#cal-dd").val();
            if (cals == null) {
            } else {
                jQuery("#s-lc-c-catf .bootstrap-select").prop("title", "");
            }

            listenForFilterChanges();

            accessibleIcons();

                        activeView = "d";
            activeSearch = false;
            createDatePicker();
            runFilters();
        });
    </script>  
 </body>
</html><!doctype html>
<html lang="en"> 
 <head> <!-- iid: 1798 --> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet"> 
  <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.min.css" rel="stylesheet"> 
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> 
  <link href="/css583/LibCal_public.min.css" rel="stylesheet"> 
  <link href="/css583/print.min.css" rel="stylesheet" media="print"> 
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script> 
  <script>
        window.jQuery || document.write('<script src="/js583/jquery.min.js">\x3C/script>');
    </script> 
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> 
  <script>
        jQuery.ui || document.write('<script src="/js583/jquery-ui.min.js">\x3C/script>');
    </script> 
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> 
  <script>
        (typeof $().modal == 'function') || document.write('<script src="/js583/bootstrap.min.js">\x3C/script>');
    </script> 
  <script src="/js583/LibCal_public.min.js"></script> 
  <script>
    springSpace.dateFormat = "dddd, MMMM D, YYYY";
    springSpace.dateShortFormat = "dddd, MMMM D, YYYY";
    springSpace.timeFormat = "h:mma";
    springSpace.timezone = 'America/Los_Angeles';
    springSpace.currency = "USD";
    springSpace.currencySymbol = "$";

    springSpace.language = 'en'; // en
    springSpace.locale = 'en-US'; // en-US

    springSpace.phpTimeFormat = 'g:ia';

    springSpace.bootstrapAsset = '/css583/bootstrap.min.css';
    springSpace.publicCssAsset = '/css583/LibCal_public.min.css';
    springSpace.adminCssAsset = '/css583/LibCal_admin.min.css';

    jQuery(function() {
                moment.locale(springSpace.locale);

                setupDatePickerLanguage();
    });
</script> 
  <script>
         var springLang  = { eq_GoToNextAvailable: "Next Available", eq_js_add_cart_btn: "Add to Cart", eq_js_add_cc_btn: "Add to Cart & Checkout", eq_js_add_eq_btn: "Add Equipment", eq_js_add_start: "All additional items must have a starting time of", eq_js_add_to_cart: "Add Item to Cart", eq_js_booking_summary_title: "Thank you!", eq_js_cart_tt: "Create a shopping cart with these space bookings, and go to equipment booking page to add more items to the cart.", eq_js_close: "Close", eq_js_date: "Change Return Date", eq_js_det_return: "Determining return time", eq_js_from: "From:", eq_js_from_det: "from", eq_js_go_to_date: "Go To Date", eq_js_isRequired: "is required!", eq_js_rem_pending: "Remove Pending Booking", eq_js_spacew_forb_multi: "Forbidden from booking same resource multiple times in a single booking.<br><br>Please only select sequential checkboxes.", eq_js_spacew_forb_single: "Forbidden from booking different resources in a single booking.", eq_js_to: "To:", eq_js_until_det: "until...", eq_start_over: "Make Another Booking", eq_unavail: "Unavailable/Padding", eq_your_book: "Your Booking" };
    </script> 
  <title>Library Calendar Event - Library Events - California State Polytechnic University, Pomona</title> 
  <link rel="alternate" type="application/rss+xml" title="Latest Events" href="/rss.php?iid=1798&amp;m=month&amp;cid=5014"> 
  <link rel="stylesheet" href="/css583/datepicker.min.css"> 
  <style>
        .bs-placeholder {
        color: #333 !important;
    }

    .s-lc-c-erh {
        margin-top: 6px;
    }

    .s-lc-c-timezone-horiz {
        float: left;
        padding-bottom: 6px;
    }

    .s-lc-c-list-cont-horiz {
        clear: both;
    }

        /* This CSS controls: */
/* Public and Admin System Calendar */
/* Public Full and Mini Calendar Widget */



/*Embeddable mini-calendar - from Widgets/API section */

#mini-calendar { border: 3px solid #066A9E; padding: 2px; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px;}
.cal-mini {width: 100%; font-family: Arial, Verdana, sans-serif; }
.cal-mini td { border-right: 1px solid #f2f2f2; }
.cal-mini-day-head, .cal-mini-title-row td {border: 0px!important;  background-color: #f2f2f2;}
.cal-mini-title {text-align: center; color: #362E2C; font: bold 14px Arial, Verdana, sans-serif;}
.cal-mini-day-head { color: #7F7F7F; text-align: center; font-size: 12px; font-weight: bold; }
.cal-mini-arrow { text-align: center!important; font-size: 16px;}
.cal-mini-day-num, .cal-mini-day-pad { text-align: center;  color: #362E2C; margin:1px;}
.cal-mini-hasevent a { -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; background-color: #FF972F;  border: 1px solid #fff; display: block; color: #fff; text-decoration: none; }
.cal-mini-hasevent a:hover { background-color: #fff; color: #FF972F; text-decoration: none; border: 1px solid #FF972F; }
#calevent-mini-list-h { padding: 3px 0px 3px 5px; color: #362E2C; border-top: 1px solid #f2f2f2; border-bottom: 1px solid #066A9E; background-color: #f2f2f2; font: bold 12px Arial, Verdana, sans-serif; }
.calevent-mini { list-style-type: none; padding: 0px; margin:0px; overflow: auto; }
.calevent-mini-time { padding: 0px; margin: 0px; color: #4A4A4A; font-size: 11px;} 
.calevent-mini li a{ font-weight: bold; }
.calevent-mini li{ padding: 0px 5px; margin: 0px; border-bottom: 1px solid #f2f2f2; }
.calevent-mini li:hover{ background-color: #f2f2f2; }

/* Edits for color contrast */

/*.cat39023[style] { color:#fff !important;}
s-lc-cal-tip-title { color:#fff !important;}
.s-lc-cal-tip{ color:#fff !important;} */

/* Change background color in Today */

td.fc-today {background:#DDD !important;}

    </style> 
  <style>
.fc-time-area.fc-widget-header {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    background-color:  #fff;
    z-index: 1000;
}
</style> 
 </head> 
 <body id="calendar_5014" class="s-lc-public s-lc-public-page-5"> 
  <div class="sr-only" title="Information for Screenreader Users"> 
  </div> <a id="s-lc-public-skiplink" class="s-lc-skiplink alert-info" href="#s-lc-public-main">Skip to Main Content</a> 
  <div class="container"> 
   <div id="s-lc-public-bc" class="row"> 
    <div class="col-md-12"> 
     <ol class="breadcrumb" role="navigation"> 
      <li><a href="http://www.cpp.edu/~library/index.shtml">California State Polytechnic University, Pomona</a></li> 
     </ol> 
    </div> 
   </div> 
   <noscript> 
    <div class="alert alert-danger" id="noscript">
     Your browser has javascript disabled. Without javascript some functions will not work.
    </div> 
   </noscript> 
   <main> 
    <div id="s-lc-public-main" class="s-lc-public-main"> 
     <section> 
      <div id="s-lc-public-page-content" class="row"> 
       <div id="col1" class="col-md-12 center"> 
        <div class="col-md-3 s-lc-c-l"> 
         <form id="cal-form" role="search"> 
          <div id="s-lc-filter-date" class="s-lc-c-datepicker"> 
          </div> 
          <div class="form-group"> <label class="sr-only" for="s-lc-c-search">Search</label> 
           <div class="input-group" id="s-lc-c-sc"> 
            <input type="text" class="form-control" name="q" id="s-lc-c-search" value="" aria-required="false" placeholder="Search for event..." aria-label="Search for event..." role="searchbox"> <span class="input-group-btn"> <button type="button" class="btn btn-default" id="s-lc-c-sbtn">Search</button> </span> 
           </div> 
          </div> 
          <div class="form-group"> <label for="cal-dd">Calendar<span title="Required">*</span></label> <select name="cal[]" id="cal-dd" class="selectpicker" multiple title="Calendar" aria-required="true" data-size="15" data-selected-text-format="count>2"> <option value="-1" data-cal_id="-1">Show All</option> <option data-divider="true"></option> <option value="5014" selected data-cal_id="5014">Library Calendar Event</option> </select> 
          </div> <span class="s-lc-bold">Filter by</span> 
          <div id="s-lc-c-filters" class="form-group"> 
           <div id="s-lc-c-catf"> <label class="sr-only" for="cat-dd">Category</label> <select name="ct[]" id="cat-dd" aria-required="false" class="selectpicker" multiple title="Category" data-size="15" data-selected-text-format="count>2"> </select> 
           </div> 
           <div id="s-lc-c-audiencef"> <label class="sr-only" for="audience-dd">Audience</label> <select name="audience[]" id="audience-dd" aria-required="false" class="selectpicker" multiple title="Audience" data-size="15" data-selected-text-format="count>2"> <option value="1770" data-cal_id="1770" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Community</span>"> Community </option> <option value="450" data-cal_id="450" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Faculty</span>"> Faculty </option> <option value="448" data-cal_id="448" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Graduate</span>"> Graduate </option> <option value="451" data-cal_id="451" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Staff</span>"> Staff </option> <option value="449" data-cal_id="449" data-bgcolor="#3AD1B3" data-content="<span class='label' style='background-color:#3AD1B3'>&nbsp;</span> Undergraduate</span>"> Undergraduate </option> </select> 
           </div> 
           <div id="s-lc-c-camf"> <label class="sr-only" for="cam-dd">University Library</label> <select name="cm[]" id="cam-dd" aria-required="false" class="selectpicker" multiple title="University Library" data-size="15" data-selected-text-format="count>2"> <option value="2869" data-cal_id="2869">Building 15</option> </select> 
           </div> 
           <div id="s-lc-c-online-filter"> <label class="sr-only" for="include-events-dd"> Include Events </label> <select name="include-events" id="include-events-dd" aria-required="false" class="selectpicker"> <option value="0"> Onsite And Online </option> <option value="1"> Online Only </option> <option value="2"> Onsite Only </option> </select> 
           </div> 
          </div> <button type="submit" class="sr-only">Submit</button> <a href="#" id="s-lc-c-clear" class="s-lc-filters-clear margin-bottom-med">Clear All</a> 
         </form> 
        </div> <!-- Right side //--> 
        <div class="col-md-9 s-lc-c-r"> 
         <div id="s-lc-c-view-modes" class="s-lc-c-view-modes"> 
          <div class="btn-group"> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-card"> <i class="fa fa-th fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Card View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-list"> <i class="fa fa-align-justify fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Day/List View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-monthly"> <i class="fa fa-calendar fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Monthly View</span> </button> <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-weekly"> <i class="fa fa-calendar-o fa-lg" aria-hidden="true"></i> <span class="sr-only icon-label">Weekly View</span> </button> 
          </div> 
         </div> 
         <div class="s-lc-c-erc"> 
          <h1 class="s-lc-c-erh"><span id="s-lc-c-header-title"></span> - <span id="s-lc-c-header-subtitle"></span></h1> 
          <div id="s-lc-c-e-audience"></div> 
          <div id="s-lc-c-e-cat"></div> 
          <div id="s-lc-c-e-cam"></div> 
          <div class="s-lc-timezone-container s-lc-c-timezone-vert s-lc-c-timezone">
            Time Zone: Pacific Time - US &amp; Canada (<a href="#" class="s-lc-c-timezone-change">change</a>) 
          </div> 
         </div> 
         <div id="s-lc-c-list-cont"></div> 
        </div> 
       </div> 
      </div> 
     </section> 
    </div> 
   </main> 
   <footer id="s-lc-public-footer" class="s-lc-public-footer row"> 
    <div id="s-lc-public-footer-brand"> <span title="libcal-us-2">Powered by</span> <a href="https://www.springshare.com">Springshare</a>. 
    </div> 
    <div id="s-lc-public-footer-rights">
      All rights reserved. 
    </div> 
    <div id="s-lc-footer-support-link"> <a href="mailto:alafarga@cpp.edu">Report a tech support issue.</a> 
    </div> 
    <div id="s-lc-public-footer-admin-links" role="navigation"> <a id="s-lc-sign-in" href="https://cpp.libapps.com/libapps/login.php?site_id=4641&amp;target=">Login to LibApps</a> 
    </div> 
    <div class="s-lc-public-footer-actions"> 
     <div id="s-lc-language"> <select id="s-lc-language-selector" role="select" aria-label="Language Selector"> <option value="cy">Cymraeg</option> <option value="en" selected>English</option> <option value="es">español</option> <option value="fr">français</option> <option value="sl">slovenski jezik</option> </select> 
     </div>
    </div> 
   </footer> 
  </div> 
  <script src="/js583/datepicker.min.js"></script> 
  <script src="/js/history.js"></script> 
  <script src="/js583/direct/pagination.min.js"></script> 
  <script src="/js583/direct/public/events/calendar.min.js"></script> 
  <script>
        function addEventDataTextTranslations(eventData) {
            eventData.textMore = 'More';
            eventData.textViewMoreInfo = 'View\u0020More\u0020Information';
            eventData.textShowMoreDates = 'Show\u0020more\u0020dates';
            eventData.textFeaturedImage = 'Event\u0020featured\u0020image';
            eventData.textGoToEvent = 'Go\u0020to\u0020event\u0020page';

            eventData.textDate = 'Date';
            eventData.textTime = 'Time';
            eventData.textLocation = 'Location';
            eventData.textCategories = 'Categories';
            eventData.textAudience = 'Audience';
            eventData.textFrom = 'From';
            eventData.textTo = 'To';
            eventData.textEventCost = '_ev_eventCost_';
            eventData.textOnlineEvent = 'Online';
            eventData.textRegister = 'Register';
        }
    </script> 
  <script>
        var activeSearch = false;
        var activeView = "d";
        var activePage = 1;
        var activeDate = moment("2020\u002D09\u002D24", springSpace.phpDateFormat).locale('en');
        var haveChosenSpecificDate = 0;
        var resultsPerPageViewMap = {
            "g": 48,
            "d": 20,
        };
        var momentWeekFormat = 'week';

        
        var datePickerTemplates = {
            leftArrow: '<span class="sr-only"> + springLang.Ge_Next + </span>&laquo;',
            rightArrow: '<span class="sr-only"> + springLang.Ge_Prev + </span>&raquo;'
        };

        var template = "<div class=\"media s-lc-c-evt\">\r\n    <div class=\"media-body\"><h3 class=\"media-heading\"><a href=\"{{url}}\">{{title}}<\/a><\/h3>\r\n        <div class=\"s-lc-c-evt-des\">{{{shortdesc}}}<\/div>\r\n        <dl class=\"dl-horizontal\">\r\n            <dt>Date:<\/dt>\r\n            <dd>{{date}}\r\n                {{#future_dates.0}}\r\n                    <i class=\"fa fa-calendar pad-left-med\" aria-hidden=\"true\"><\/i>\r\n                    <a href=\"#\" onclick=\"jQuery('#future_{{id}}').toggle(); return false;\"> Show more dates<\/a>\r\n                    <p id=\"future_{{id}}\" style=\"display:none\">\r\n                        {{#future_dates}}\r\n                        <a href=\"\/event\/{{event_id}}\">{{start}}<\/a><br>\r\n                        {{\/future_dates}}\r\n                    <\/p>\r\n                {{\/future_dates.0}}\r\n            <\/dd>\r\n\r\n            <dt>Time:<\/dt>\r\n            <dd>{{start}}{{#end}} - {{end}}{{\/end}}<\/dd>\r\n\r\n            <dt>Location:<\/dt>\r\n            <dd>{{#location}}{{location}}{{#campus}}, {{\/campus}}{{\/location}}{{#campus}}{{campus}}{{\/campus}}<\/dd>\r\n\r\n            {{#audiences.0}}\r\n            <dt>Audience:<\/dt>\r\n            <dd>{{#audiences}}\r\n                <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\r\n                <span class=\"s-lc-event-category-link\">\r\n                    <a href=\"{{calendar_url}}&t=d&cal%5B%5D={{calendar_id}}&audience%5B%5D={{id}}\">{{name}}<\/a>\r\n                <\/span> \u00a0\r\n                {{\/audiences}}\r\n            <\/dd>\r\n            {{\/audiences.0}}\r\n\r\n            {{#categories_arr.0}}\r\n            <dt>Categories:<\/dt>\r\n            <dd>{{#categories_arr}}\r\n                <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\r\n                <span class=\"s-lc-event-category-link\">\r\n                    <a href=\"{{calendar_url}}&t=d&d=0000-00-00&cal%5B%5D={{calendar_id}}&ct%5B%5D={{cat_id}}\">{{name}}<\/a>\r\n                <\/span> \u00a0\r\n                {{\/categories_arr}}\r\n            <\/dd>\r\n            {{\/categories_arr.0}}\r\n\r\n            <dt><\/dt>\r\n            <dd>\r\n                {{#seats}}\r\n                <dt><\/dt>\r\n                <dd><a href=\"{{url}}\" class=\"btn btn-success btn-sm margin-top-med\">Register! {{#seatsleft}} - {{seatsleft}} seats left{{\/seatsleft}}<\/a><\/dd>\r\n                {{\/seats}}\r\n\r\n                {{#registration_msg}}\r\n                <dt><\/dt>\r\n                <dd><a href=\"{{url}}\" class=\"btn {{class}} btn-sm margin-top-med\">{{msg}}<\/a><\/dd>\r\n                {{\/registration_msg}}\r\n            <\/dd>\r\n        <\/dl>\r\n    <\/div>\r\n    {{#featured_image}}\r\n    <div class=\"media-right\"><a href=\"{{url}}\"> <img class=\"media-object img-thumbnail s-lc-c-evt-fi\" src=\"{{featured_image}}\" alt=\"{{title}}\"> <\/a><\/div>\r\n    {{\/featured_image}}\r\n<\/div>";
        var cardViewTemplate = "<div class=\"s-lc-eventcard\">\n    <div class=\"s-lc-eventcard-content\">\n        <div class=\"s-lc-eventcard-heading\">\n            <div class=\"s-lc-eventcard-heading-content\">\n                <div class=\"s-lc-evt-date\">\n                    <div class=\"s-lc-evt-date-m\">{{monthshort}}<\/div>\n                    <div class=\"s-lc-evt-date-d\">{{day}}<\/div>\n                <\/div>\n\n                <div class=\"s-lc-eventcard-heading-text-group\">\n                    <div class=\"s-lc-eventcard-heading-text s-lc-hide-long-text\">\n                        {{^multi_day_event}}\n                            {{dayshort}}, {{start}}{{#end}} - {{end}}{{\/end}}\n                        {{\/multi_day_event}}\n\n                        {{#multi_day_event}}\n                            {{monthshort}} {{day}} -\n                            {{#multi_day_end}}\n                                {{monthshort}} {{day}}\n                            {{\/multi_day_end}}\n                        {{\/multi_day_event}}\n\n                        {{#online_event}}\n                            <span class=\"label label-info s-lc-eventcard-online-pill\">\n                                {{textOnlineEvent}}\n                            <\/span>\n                        {{\/online_event}}\n                    <\/div>\n                    <div class=\"s-lc-eventcard-heading-text s-lc-hide-long-text\">{{campusAndLocation}}<\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n\n        <div class=\"s-lc-eventcard-event-color-bar\" style=\"background-color: {{color}}\">\n        <\/div>\n\n        <div class=\"s-lc-eventcard-body\">\n            {{#seatsleft}}\n                <div class=\"s-lc-ribbon s-lc-ribbon-top-right\">\n                    <span>\n                        {{seatsleft_text}}\n                    <\/span>\n                <\/div>\n            {{\/seatsleft}}\n\n            <h2 class=\"s-lc-eventcard-title\">\n                <a title=\"{{title}}\" href=\"{{url}}\">\n                    {{title}}\n                <\/a>\n            <\/h2>\n\n            {{#shortdesc}}\n            <div class=\"s-lc-eventcard-description\">\n                {{{shortdesc}}}\n                {{#shortdesc_was_truncated}}\n                &nbsp;<a href=\"{{url}}\" aria-label=\"{{textViewMoreInfo}}\">{{textMore}}<\/a><br>\n                {{\/shortdesc_was_truncated}}\n            <\/div>\n            {{\/shortdesc}}\n\n            {{#registration_cost}}\n                <br>\n                <div class=\"s-lc-eventcard-registration-cost\">\n                    {{textEventCost}}: {{registration_cost}}\n                <\/div>\n            {{\/registration_cost}}\n        <\/div>\n\n        <div class=\"s-lc-eventcard-tags\">\n            <ul>\n                {{#categoriesToShowInFull}}\n                    <li class=\"s-lc-eventcard-tag\">\n                        <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\n                        <span class=\"s-lc-event-category-link\" data-toggle=\"tooltip\" title=\"{{name}}\">\n                            <a href=\"{{calendar_url}}&t=g&cal%5B%5D={{calendar_id}}{{#isCategory}}&ct={{id}}{{\/isCategory}}{{#isAudience}}&audience={{id}}{{\/isAudience}}\">\n                                {{name}}\n                            <\/a>\n                        <\/span>\n                    <\/li>\n                {{\/categoriesToShowInFull}}\n\n                {{#categoriesTooltip}}\n                    <li class=\"s-lc-eventcard-tag-more\">\n                        <a href=\"#\" data-toggle=\"tooltip\" title=\"{{categoriesTooltip}}\" aria-label=\"{{categoriesTooltip}}\">&hellip;<\/a>\n                    <\/li>\n                {{\/categoriesTooltip}}\n            <\/ul>\n        <\/div>\n    <\/div>\n<\/div>\n";
        var cardViewDefaultImage = 'https\u003A\/\/lcimages.s3.amazonaws.com\/event\u002Ddefault.png';

        var categoriesMappedByCalendar = { 5014: [] };
        var categoryNameToColorMap = {};
        var categoryNameToIdListsMap = {};

        
                var tempCategoryName = "Athletic\u0020Department\u0020Study\u0020Hall";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39031,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023A1C78D";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39031);
                var tempCategoryName = "Children\u0027s\u0020Story\u0020Time";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 49802,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F598B5";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(49802);
                var tempCategoryName = "Citation\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27779,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023FC7A00";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27779);
                var tempCategoryName = "Doctorial\u0020Meeting";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27778,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002396A9B3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27778);
                var tempCategoryName = "Faculty\u0020Meetings";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39022,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023B8A5B8";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39022);
                var tempCategoryName = "Fashion\u0020Exhibit";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42925,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u00239B79E0";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42925);
                var tempCategoryName = "Finals\u0020De\u002DStress\u0020Week\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39028,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023EFC1F7";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39028);
                var tempCategoryName = "Hip\u002DHop\u0020Symposium";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39029,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u00239C76A6";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39029);
                var tempCategoryName = "Knowledge\u0020Center\u0020Activities";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 46330,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002380FF80";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(46330);
                var tempCategoryName = "Lib\u0020Instruction\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39025,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023B3C8EF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39025);
                var tempCategoryName = "Library\u0020Close";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39850,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023D2D5DB";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39850);
                var tempCategoryName = "Library\u0020Event";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27776,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023EBD634";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27776);
                var tempCategoryName = "Library\u0020Workshops";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50889,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50889);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Advanced\u0020Research\u0020Skills";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50891,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50891);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Basic\u0020Research\u0020Skills";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50890,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50890);
                var tempCategoryName = "Library\u0020Workshops\u0020\u003E\u0020Special\u0020Topics\u0020Workshops";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 50892,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u002300FBFF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(50892);
                var tempCategoryName = "LRC\/RAMP\/Writing\u0020Center\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42922,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023627FB3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42922);
                var tempCategoryName = "Maker\u0020Studio\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 45443,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F5EDBF";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(45443);
                var tempCategoryName = "National\u0020Library\u0020Week";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39027,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023984BAB";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39027);
                var tempCategoryName = "Outside\u0020Departments\u0020";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 42923,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023AFBD75";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(42923);
                var tempCategoryName = "Plagiarism\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27775,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023F7A3A3";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27775);
                var tempCategoryName = "Special\u0020Collections\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 43356,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023C9E6F5";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(43356);
                var tempCategoryName = "The\u0020Library\u0020Club\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39023,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023C3ADF0";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39023);
                var tempCategoryName = "Thesis\/Project\u0020Formatting\u0020Workshop";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 27774,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023FAB941";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(27774);
                var tempCategoryName = "Welcome\u0020Week\u0020Events";

        if (!(5014 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[5014] = []; }
        categoriesMappedByCalendar[5014].push({
            id: 39026,
            name: tempCategoryName,
        });

        categoryNameToColorMap[tempCategoryName] = "\u0023CBF035";

        if (!(tempCategoryName in categoryNameToIdListsMap)) { categoryNameToIdListsMap[tempCategoryName] = []; }
        categoryNameToIdListsMap[tempCategoryName].push(39026);
        
        var calendarNameMap = {};
                    calendarNameMap[-1] = "All\u0020Calendars";
                        calendarNameMap[5014] = "Library\u0020Calendar\u0020Event";
                    
        var audienceNameMap = {};
                    audienceNameMap[1770] = "Community";
                    audienceNameMap[450] = "Faculty";
                    audienceNameMap[448] = "Graduate";
                    audienceNameMap[451] = "Staff";
                    audienceNameMap[449] = "Undergraduate";
        
        var categoryNameMap = {};
                    categoryNameMap[39031] = "Athletic\u0020Department\u0020Study\u0020Hall";
                    categoryNameMap[49802] = "Children\u0027s\u0020Story\u0020Time";
                    categoryNameMap[27779] = "Citation\u0020Workshop";
                    categoryNameMap[27778] = "Doctorial\u0020Meeting";
                    categoryNameMap[39022] = "Faculty\u0020Meetings";
                    categoryNameMap[42925] = "Fashion\u0020Exhibit";
                    categoryNameMap[39028] = "Finals\u0020De\u002DStress\u0020Week\u0020";
                    categoryNameMap[39029] = "Hip\u002DHop\u0020Symposium";
                    categoryNameMap[46330] = "Knowledge\u0020Center\u0020Activities";
                    categoryNameMap[39025] = "Lib\u0020Instruction\u0020";
                    categoryNameMap[39850] = "Library\u0020Close";
                    categoryNameMap[27776] = "Library\u0020Event";
                    categoryNameMap[50889] = "Library\u0020Workshops";
                    categoryNameMap[50891] = "Library\u0020Workshops\u0020\u003E\u0020Advanced\u0020Research\u0020Skills";
                    categoryNameMap[50890] = "Library\u0020Workshops\u0020\u003E\u0020Basic\u0020Research\u0020Skills";
                    categoryNameMap[50892] = "Library\u0020Workshops\u0020\u003E\u0020Special\u0020Topics\u0020Workshops";
                    categoryNameMap[42922] = "LRC\/RAMP\/Writing\u0020Center\u0020";
                    categoryNameMap[45443] = "Maker\u0020Studio\u0020";
                    categoryNameMap[39027] = "National\u0020Library\u0020Week";
                    categoryNameMap[42923] = "Outside\u0020Departments\u0020";
                    categoryNameMap[27775] = "Plagiarism\u0020Workshop";
                    categoryNameMap[43356] = "Special\u0020Collections\u0020Events";
                    categoryNameMap[39023] = "The\u0020Library\u0020Club\u0020Events";
                    categoryNameMap[27774] = "Thesis\/Project\u0020Formatting\u0020Workshop";
                    categoryNameMap[39026] = "Welcome\u0020Week\u0020Events";
        
        var campusNameMap = {};
                    campusNameMap[2869] = "Building\u002015";
        
        var selectPickerCountSelectText = '{0} selected';
        var selectPickerHeaderText = {
            calendar:   'Filter\u0020by Calendar:',
            audience:   'Filter\u0020by Audience:',
            category:   'Filter\u0020by Category:',
            campus:     'Filter\u0020by University\u0020Library:',
            include: 'Include\u0020Events:',
        };

        var defaultIncludeEvents = 0;
        var includeEventsLabel = 'Include\u0020Events';

        var springyPage = {
            iid: 1798,
            isFullCalendarView: 0,
            calendarStartDay: 0,
            lang: {
                category: 'Category',
                campus: 'University\u0020Library',
                location: 'Location',
                presenter: 'Presenter',
                audiences: 'Audiences',
                categories: 'Categories',
                seats: 'Seats',
                shortDesc: 'Description',
                allDay: 'All\u0020Day',
                time: 'Time',
            }
        };

        function addCalendarCategoriesToDict(categoryDictionary, calendarCategories) {
            for (var i = 0; i < calendarCategories.length; i++) {
                var calendarCategory = calendarCategories[i];
                categoryDictionary[calendarCategory.name] = true;
            }
        }

        function getDictionaryOfCategories(calendarIds) {
            var categoryDictionary = {};

                        if (0 in categoriesMappedByCalendar) {
                addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[0]);
            }

                        for (var i = 0; i < calendarIds.length; i++) {
                var calendarId = calendarIds[i];

                if (calendarId == -1) {
                                        addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[5014]);
                                        break;
                }


                addCalendarCategoriesToDict(categoryDictionary, categoriesMappedByCalendar[calendarId]);
            }

            return categoryDictionary;
        }

        function getSortedKeys(categoryDictionary) {
            var sortedKeys = [];
            for(var key in categoryDictionary) {
                sortedKeys.push(key);
            }
            sortedKeys.sort(compareStringIgnoreCase);

            return sortedKeys;
        }

        function updateCategoryFilters(calendarIds, selectedValues) {
            var categoryDictionary = getDictionaryOfCategories(calendarIds);

            var sortedKeys = getSortedKeys(categoryDictionary);

            var element = jQuery("#cat-dd");
            element.empty();

            for (var i = 0; i < sortedKeys.length; i++) {
                var categoryName = sortedKeys[i];
                var categoryColor = categoryNameToColorMap[categoryName];
                var selected = selectedValues.indexOf(categoryName) >= 0;

                var option = new Option(categoryName, categoryName, selected, selected);
                option.setAttribute('data-bgcolor', categoryColor);
                option.setAttribute('data-content', '<span class="label" style="background-color:' + categoryColor + '">&nbsp;</span> ' + categoryName + '</span>');
                element.append(option);
            }

            element.selectpicker('refresh');
        }

        function runFiltersDueToOptionChange(event, clickedIndex, newValue, oldValue) {
            activePage = 1;

            return runFilters();
        }

                var calendarFilterInProgress = false;

        function ensureValidCalendarSelection(element, clickedIndex) {
            if (clickedIndex == 0) {
                // if the show all option is selected - make it the only option selected
                element.selectpicker('deselectAll').val(-1).selectpicker("refresh");
            } else {
                // ensure the select all option is not selected if we pick a different option
                element.find("[value=-1]").prop("selected", false);
                element.selectpicker("refresh");
            }
        }

        function runCalendarSelectionValidation(event, clickedIndex, newValue, oldValue) {
            var element = jQuery(this);
            ensureValidCalendarSelection(element, clickedIndex);
        }

        function runFiltersDueToCalendarChange(event, clickedIndex, newValue, oldValue) {
            if (calendarFilterInProgress) {
                return false;
            }

            calendarFilterInProgress = true;

            var element = jQuery(this);
            ensureValidCalendarSelection(element, clickedIndex);

            calendarFilterInProgress = false;

            // if no options are selected - reset the select picker back to the original value
            var calendarIds = element.val();
            if (calendarIds.length == 0) {
                element.val(5014).selectpicker("refresh");
                calendarIds = [5014];
            }

            // toggle the categories display to only show those valid for these calendars
            updateCategoryFilters(calendarIds, jQuery("#cat-dd").val());

            activePage = 1;

            return runFilters();
        }

        function getSelectedCategoryIds() {
            var selectedCategoryIds = [];

            var categoryNames = jQuery("#cat-dd").val();
            if (categoryNames == undefined) {
                return selectedCategoryIds;
            }

            for (var i = 0; i < categoryNames.length; i++) {
                var categoryName = categoryNames[i];
                var categoryIds = categoryNameToIdListsMap[categoryName];
                Array.prototype.push.apply(selectedCategoryIds, categoryIds);
            }

            return selectedCategoryIds;
        }

        function createDatePicker() {
                        var minViewMode = (activeView == "m") ? 1 : 0;

                        var displayDateFormat = (activeView == "m") ? "MMMM YYYY" : springSpace.dateFormat;

            var element = jQuery("#s-lc-filter-date");
            element.off('changeDate');
            element.datepicker("destroy");

            element.datepicker({
                language: "en",
                format: {
                    toDisplay: function (date, format, language) {
                        return moment.utc(date).locale("en").format(displayDateFormat);
                    },
                    toValue: function (date, format, language) {
                        return new Date(date);
                    }
                },
                minViewMode: minViewMode,
                autoclose: true,
                                todayHighlight: 0,
                defaultViewDate: {"year": 2020, "month": 8, "day": 24},
                templates: datePickerTemplates
            });

            if (haveChosenSpecificDate) {
                element.datepicker("setDate", activeDate.toDate());
            }

            datePickerAccessibilityFix(element);

            element.on("changeDate", function () {
                haveChosenSpecificDate = true;
                activeDate = moment(jQuery(this).datepicker("getDate"));

                
                                activePage = 1;
                activeSearch = false;
                jQuery("#s-lc-c-search").val("");

                return runFilters();
                            });
        }

        function setActiveViewMode(viewMode) {
            activeView = viewMode;
            activePage = 1;

            createDatePicker();

            return runFilters();
        }

        function setActiveViewModeToSearch() {
            var searchString = jQuery("#s-lc-c-search").val();
            if (searchString.length < 2) {
                errorAlert("Search\u0020string\u0020must\u0020be\u0020at\u0020least\u00202\u0020characters.");
                return false;
            }

            activeSearch = true;
            activePage = 1;

            // keep people on their current view mode, with the exception of the monthly/weekly
            //  view modes as they do not yet support searches
            if ((activeView === 'm') || (activeView === 'w')) {
                activeView = 'd';
                createDatePicker();
            }
        }

        function getDateToPassToPhp() {
            if (!haveChosenSpecificDate) {
                return "0000-00-00";
            }

            if (activeView == "m") {
                return activeDate.format("YYYY-MM");
            }

            return activeDate.format("YYYY-MM-DD");
        }

        function getListOfNames(idNameMap, ids) {
            var names = [];

            for (var i=0; i < ids.length; i++) {
                var id = ids[i];
                var name = idNameMap[id];
                if (name === undefined) {
                    continue;
                }

                names.push(name);
            }

            return names.join(", ");
        }

        function gatherFilterOptionsInUse() {
            var categoryIds = getSelectedCategoryIds();
            var campusIds = jQuery("#cam-dd").val();
            var audienceIds = jQuery("#audience-dd").val();
            var calendarIds = jQuery("#cal-dd").val();
            var search = jQuery("#s-lc-c-search").val();

            var filterOptions = [];

            if (search.length > 0) {
                filterOptions.push(["Keywords", escapeHtml(search)]);
            }

            if (haveChosenSpecificDate) {
                                var displayDateFormat = (activeView == "m") ? "MMMM YYYY" : springSpace.dateFormat;
                filterOptions.push(["Date", activeDate.locale("en").format(displayDateFormat)]);
            }

            if (calendarIds.length > 0) {
                filterOptions.push(["Calendar", getListOfNames(calendarNameMap, calendarIds)]);
            }

            if ((audienceIds != undefined) && (audienceIds.length > 0)) {
                filterOptions.push(["Audience", getListOfNames(audienceNameMap, audienceIds)]);
            }

            if (categoryIds.length > 0) {
                filterOptions.push(["Category", getListOfNames(categoryNameMap, categoryIds)]);
            }

            if ((campusIds != undefined) && (campusIds.length > 0)) {
                filterOptions.push(["University\u0020Library", getListOfNames(campusNameMap, campusIds)]);
            }

            filterOptions.push([includeEventsLabel, jQuery('#include-events-dd option:selected').text()]);

            return filterOptions;
        }

        function showFiltersUsedOnScreen() {
            var filterOptions = gatherFilterOptionsInUse();
            var html = "Filters\u0020applied\u003A\u0020";

            for (var i=0; i < filterOptions.length; i++) {
                var filterOption = filterOptions[i];
                var name = filterOption[0];
                var value = filterOption[1];

                if (value.length === 0) {
                    continue;
                }

                html += "<strong>" + name + "</strong>: <em>" + value + "</em>";

                if (i < (filterOptions.length - 1)) {
                    html += ";&nbsp;&nbsp;&nbsp;";
                }
            }

            jQuery("#s-lc-c-filters-used").html(html).show();
        }

        function runFilters() {
            jQuery(".s-lc-nav-tab").removeClass("active");

                        History.pushState(null, document.title, determineQueryString());

            
            var searchString = jQuery("#s-lc-c-search").val();
            if (searchString.length > 0) {
                if (!activeSearch) {
                    setActiveViewModeToSearch();
                }
            } else {
                activeSearch = false;
            }

            if (activeView == 'm') {
                jQuery('.s-lc-nav-monthly').addClass('active');
                if (springyPage.isFullCalendarView) {
                    return runFullCalendarMonthlyOrWeekly(true);
                }

                return runMonthlyOrWeekly(true);
            }

            if (activeView === 'w') {
                jQuery('.s-lc-nav-weekly').addClass('active');
                if (springyPage.isFullCalendarView) {
                    return runFullCalendarMonthlyOrWeekly(false);
                }

                return runMonthlyOrWeekly(false);
            }

            if (activeView == "g") {
                jQuery(".s-lc-nav-card").addClass("active");
            } else {
                jQuery(".s-lc-nav-list").addClass("active");
            }

            if (activeSearch) {
                return runSearch();
            }

            if (activeView == "g") {
                return runCardView();
            }

            return runDaily();
        }

        function beginBusyWait() {
            workingAlert();

                    }

        function endBusyWait() {
            stopAlert();

                    }

        function formatResultsHeader(subTitle, header) {
                        var cals = jQuery("#cal-dd").val();
            if (typeof header !== 'undefined') {
                var calendarName = header;
            } else if (cals == null) {
                jQuery("#cal-dd").val(5014);
                jQuery("#cal-dd").selectpicker("refresh");
                var calendarName = jQuery("#cal-dd").find(":selected").text();
            } else if (cals.length > 1) {
                var calendarName = 'Multiple\u0020Calendars';
            } else {
                var calendarName = jQuery("#cal-dd").find(":selected").text();
            }

            jQuery('#s-lc-c-header-title').html(calendarName);
            jQuery('#s-lc-c-header-subtitle').html(subTitle);
                        return false;
        }

        function runMonthlyOrWeekly(isMonthly) {
            var cals = jQuery('#cal-dd').val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery('#cam-dd').val();
            var audience = jQuery('#audience-dd').val();
            var includeEvents = jQuery('#include-events-dd').val();
            var date = activeDate.format(springSpace.phpDateFormat);

            var cal_cont = jQuery('#s-lc-c-list-cont');

            beginBusyWait();

            var headerSubTitle = calendarUtils.getDateHeading(activeDate, isMonthly, momentWeekFormat);

            jQuery.ajax({
                url: "/ajax/calendar/monthly?c=" + cals + '&date=' + date + '&monthly=' + isMonthly + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function (calData) {
                formatResultsHeader(headerSubTitle);

                if (calData.error) {
                    cal_cont.html('<p>' + calData.error + '</p>');
                } else {
                    cal_cont.html(calData.cal);
                }

                                                                var screenWidth = jQuery(window).width();
                if (screenWidth > springSpace.smallScreenSize) {
                    jQuery('[data-toggle="popover"]').popover();
                }

                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function runDaily() {
            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];

            beginBusyWait();

            if (haveChosenSpecificDate) {
                var day = activeDate.locale("en").format("LL");
            } else {
                var day = "Upcoming\u0020Events";
            }

            jQuery.ajax({
                url: "/ajax/calendar/list?c=" + cals + "&date=" + getDateToPassToPhp() + "&perpage=" + perPage + "&page=" + activePage + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(day);
                var output = formatResultsInListViewStyle(data);

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function runCardView() {
            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];

            beginBusyWait();

            if (haveChosenSpecificDate) {
                var day = activeDate.locale("en").format("LL");
            } else {
                var day = "Upcoming\u0020Events";
            }

            jQuery.ajax({
                url: "/ajax/calendar/list?c=" + cals + "&date=" + getDateToPassToPhp() + "&perpage=" + perPage + "&page=" + activePage + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: "jsonp",
                            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(day);
                var output = formatResultsInCardViewStyle(data);

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
                accessibleIcons();
                jQuery(".s-lc-eventcard-tag-more").on("click", doNothing);
            })
            .fail(ajaxErrorHandler);
        }

        function doNothing() {
                        return false;
        }

        function runSearch() {
            var q = jQuery("#s-lc-c-search").val();
            if (q.length < 2) {
                errorAlert("Search\u0020string\u0020must\u0020be\u0020at\u0020least\u00202\u0020characters.");
                return false;
            }

            beginBusyWait();

            var cals = jQuery("#cal-dd").val();
            var cats = getSelectedCategoryIds();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];
            var t = q.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");

            jQuery.ajax({
                url: "/process_search.php?site_id=4641&cals=" + cals + "&perpage=" + perPage + "&page=" + activePage + "&q=" + encodeURIComponent(q) + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents + "&callback=?",
                dataType: "jsonp",
            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(t, 'Search\u0020Results');

                if (activeView === "g") {
                    var output = formatResultsInCardViewStyle(data);
                } else {
                    var output = formatResultsInListViewStyle(data);
                }

                jQuery("#s-lc-c-list-cont").html(output);
                paginate(data.total_results, data.perpage);
                formatLabels();
            })
            .fail(ajaxErrorHandler);
        }

        function formatResultsInListViewStyle(data) {
            if (data.error) {
                return "<p>" + eventData.error + "</p>";
            }

            var results = data.results.length;
            if (results < 1) {
                return "<div class=\"alert alert-info s-lc-c-s-nores\">No\u0020events\u0020are\u0020scheduled.</div>";
            }

            var output = "";
            for (var i = 0; i < results; i++) {
                var eventData = data.results[i];
                addEventDataTextTranslations(eventData);
                output += Mustache.render(template, eventData);
            }
            output += "<div id=\"pag\"></div>";
            return output;
        }

        function formatResultsInCardViewStyle(data) {
            if (data.error) {
                return "<p>" + data.error + "</p>";
            }

            var resultCount = data.results.length;
            if (resultCount < 1) {
                return "<div class=\"alert alert-info s-lc-c-s-nores\">No\u0020events\u0020are\u0020scheduled.</div>";
            }

            var output = '<div class="s-lc-eventcard-outer-container"><div class="s-lc-eventcard-inner-container-condensed">';
            for (var i = 0; i < resultCount; i++) {
                var eventData = data.results[i];
                decorateEventDataWithCategoryDisplayInfo(eventData);
                addEventDataTextTranslations(eventData);
                eventData.campusAndLocation = getCampusAndLocationData(eventData);

                // if the event does not have a featured image then use the default card view image
                if (eventData.featured_image.length === 0) {
                    eventData.featured_image = cardViewDefaultImage;
                }

                output += Mustache.render(cardViewTemplate, eventData);
            }
            output += "</div></div>";
            output += "<div id=\"pag\"></div>";
            return output;
        }

        function paginate(totalResults, perPage) {
            var paginationElement = formatPaginationElement(activePage, perPage, totalResults);
            if (paginationElement === null) {
                return;
            }

            jQuery('#pag').append(paginationElement);

            jQuery('#pag li a').on('click', function () {
                activePage = jQuery(this).data('page');

                return runFilters();
            });
        }

        function decorateEventDataWithCategoryDisplayInfo(eventData) {
            var audienceCount = eventData.audiences.length;
            var categoryCount = eventData.categories_arr.length;

            var audiencesToShowInFull = 0;
            var categoriesToShowInFull = 1;

            if ((audienceCount > 0) && categoryCount > 0) {
                audiencesToShowInFull = 1;
                categoriesToShowInFull = 1;
            } else if (audienceCount > 0) {
                audiencesToShowInFull = Math.min(2, audienceCount);
            } else {
                categoriesToShowInFull = Math.min(2, categoryCount);
            }

            var toShowInFull = [];
            var toShowAsTooltip = [];

            for (var i=0; i < audienceCount; i++) {
                var audienceData = eventData.audiences[i];

                if (i < audiencesToShowInFull) {
                    toShowInFull.push({
                        isAudience: true,
                        id: audienceData.id,
                        name: audienceData.name,
                        color: audienceData.color,
                    });
                } else {
                    toShowAsTooltip.push(audienceData.name);
                }
            }

            for (var i=0; i < categoryCount; i++) {
                var categoryData = eventData.categories_arr[i];

                if (i < categoriesToShowInFull) {
                    toShowInFull.push({
                        isCategory: true,
                        id: categoryData.cat_id,
                        name: categoryData.name,
                        color: categoryData.color,
                    });
                } else {
                    toShowAsTooltip.push(categoryData.name);
                }
            }

            eventData.categoriesToShowInFull = toShowInFull;
            eventData.categoriesTooltip = toShowAsTooltip.join(", ");
        }

        function getCampusAndLocationData(eventData) {
                        var maxLocationsToShow = 2;
            var campusString = eventData.campus;
            var campusCount = campusString.length > 0 ? 1 : 0;
            var locationString = eventData.location;
            var locationCount = eventData.locationCount;

            if ((locationCount + campusCount) > maxLocationsToShow) {
                return "Multiple\u0020Locations";
            }

            var locations = [];
            if (campusCount > 0) {
                locations.push(campusString);
            }

            if (locationCount > 0) {
                locations.push(locationString);
            }

            return locations.join(", ");
        }

        function setupAudienceLabel() {
            var audienceHtml = "";
            jQuery("#audience-dd :selected").each(function (i, selected) {
                var value = jQuery(selected).val();
                audienceHtml += '<span class="label" style="background-color:' + jQuery(selected).data("bgcolor") + '">';
                audienceHtml += jQuery(selected).text();
                audienceHtml += '&nbsp;<a href="#" onclick="removeAudience(\'' + value + '\');"><i class="fa fa-times fa-lg" style="color:#fff" aria-hidden="true"></i></a></span>&nbsp;';
            });

            if (audienceHtml != "") {
                audienceHtml = '<span class="s-lc-c-e-audience-lab">Audience:</span> ' + audienceHtml;
            }

            jQuery("#s-lc-c-e-audience").html(audienceHtml);
        }

        function formatLabels() {
                        var catl = jQuery("#s-lc-c-e-cat");
            var caml = jQuery("#s-lc-c-e-cam");

            try {
                setupAudienceLabel();

                var cats_l = "";
                jQuery("#cat-dd :selected").each(function (i, selected) {
                    var v = jQuery(selected).val();
                    cats_l += " <span class=\"label\" style=\"background-color:" + jQuery(selected).data("bgcolor") + "\">" + jQuery(selected).text() + " <a href=\"#\" onclick=\"removeCat(\'" + v + "\');\"><i class=\"fa fa-times fa-lg\" style=\"color:#fff\"></i></a></span> ";
                });
                if (cats_l != "") {
                    cats_l = "<span class=\"s-lc-c-e-cat-lab\">Category:</span> " + cats_l;
                }
                catl.html(cats_l);

                var cams_l = "";
                jQuery("#cam-dd :selected").each(function (i, selected) {
                    var v = jQuery(selected).val();
                    cams_l += " <span class=\"label label-info\">" + jQuery(selected).text() + " <a href=\"#\" onclick=\"removeCam(\'" + v + "\');\"><i class=\"fa fa-times fa-lg\" style=\"color:#fff\"></i></a></span>";
                });
                if (cams_l != "") {
                    cams_l = "<span class=\"s-lc-c-e-cam-lab\">University\u0020Library:</span> " + cams_l;
                }
                caml.html(cams_l);
            } catch (err) {
            }
                    }

        function removeFilter(id, value) {
            var element = jQuery(id);

            var list = element.val();
            var index = list.indexOf(value);
            if (index > -1) {
                list.splice(index, 1);
            }

            element.val(list);
            element.selectpicker("refresh");

            runFilters();

            return false;
        }

        function removeAudience(value) {
            return removeFilter("#audience-dd", value);
        }

        function removeCat(value) {
            return removeFilter("#cat-dd", value);
        }

        function removeCam(value) {
            return removeFilter("#cam-dd", value);
        }

        function determineQueryString() {
            var categoryIds = getSelectedCategoryIds();
            var campusIds = jQuery("#cam-dd").val();
            var audienceIds = jQuery("#audience-dd").val();
            var calendarId = jQuery("#cal-dd").find(":selected").data("cal_id");
            var calendarIds = jQuery("#cal-dd").val();
            var qs = "";

            if (activeSearch) {
                var q = encodeURIComponent(jQuery("#s-lc-c-search").val());
                var caqs = "";
                if (calendarId != null) {
                    caqs = "&cid=" + calendarId;
                }
                qs = "?t=" + activeView + "&q=" + q + caqs;
            } else {
                qs = "?cid=" + calendarId + "&t=" + activeView + "&d=" + getDateToPassToPhp();
            }

            if (calendarIds.length) {
                qs = qs + "&cal=" + calendarIds;
            }

            if ((audienceIds != undefined) && (audienceIds.length)) {
                qs = qs + "&audience=" + audienceIds;
            }

            if (categoryIds.length) {
                qs = qs + "&ct=" + categoryIds;
            }

            if ((campusIds != undefined) && (campusIds.length)) {
                qs = qs + "&cm=" + campusIds;
            }

                                    if (activePage > 1) {
                qs = qs + "&page=" + activePage;
            }

            var includeEvents = jQuery('#include-events-dd').val();
            if (includeEvents !== undefined) {
                qs += '&inc=' + includeEvents;
            }

            return qs;
        }

        function listenForFilterChanges() {
                        jQuery("#audience-dd, #cat-dd, #cam-dd, #include-events-dd").on("changed.bs.select", runFiltersDueToOptionChange);
            jQuery("#cal-dd").on("changed.bs.select", runFiltersDueToCalendarChange);
                    }

        function stopListeningForFilterChanges() {
            jQuery("#audience-dd, #cat-dd, #cam-dd, #include-events-dd, #cal-dd").off("changed.bs.select");
        }

        function clearFilters() {
            stopListeningForFilterChanges();

            jQuery("#cal-dd").selectpicker("deselectAll").val(5014).selectpicker("refresh");
            jQuery("#cam-dd, #audience-dd").selectpicker("deselectAll").selectpicker("refresh");
            jQuery("#cat-dd").selectpicker("deselectAll").selectpicker("refresh");
            jQuery('#include-events-dd').val(defaultIncludeEvents).selectpicker('refresh');

            activeSearch = false;
            jQuery("#s-lc-c-search").val("");

            activeDate = moment("2020\u002D09\u002D24", springSpace.phpDateFormat);
            haveChosenSpecificDate = false;
            jQuery("#s-lc-filter-date").val("");
            createDatePicker();

            listenForFilterChanges();

            jQuery(".s-lc-nav-tab").removeClass("active");
            activePage = 1;

            return runFilters();
        }

        jQuery(function () {
            jQuery("#cal-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.calendar,
                width: "100\u0025",
                style: "btn-default btn-sm"

            });

            jQuery("#audience-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.audience,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery("#cat-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.category,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery("#cam-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.campus,
                width: "100\u0025",
                style: "btn-default btn-sm"
            });

            jQuery('#include-events-dd').selectpicker({
                header: selectPickerHeaderText.include,
                width: '100\u0025',
                style: 'btn-default btn-sm'
            });

            jQuery(".s-lc-nav-list").on("click", function (e) {
                return setActiveViewMode("d");
            });

            jQuery(".s-lc-nav-monthly").on("click", function (e) {
                return setActiveViewMode("m");
            });

            jQuery('.s-lc-nav-weekly').on('click', function () {
                return setActiveViewMode('w');
            });

            jQuery(".s-lc-nav-card").on("click", function (e) {
                return setActiveViewMode("g");
            });

            jQuery("#s-lc-c-sbtn").click(function () {
                                setActiveViewModeToSearch();
                
                return runFilters();
            });

            jQuery("#s-lc-c-search").keyup(function (e) {
                if (e.keyCode == 13) {
                    setActiveViewModeToSearch();

                    return runFilters();
                }

                return true;
            });

            jQuery(".s-lc-filters-clear").click(clearFilters);

            jQuery("#cal-form").on("submit", function (e) {
                e.preventDefault();
            });

            jQuery('.s-lc-c-timezone-change').on('click', springyPublic.showTimezoneModal);

            updateCategoryFilters(
                [5014,],
                []
            );

            var cals = jQuery("#cal-dd").val();
            if (cals == null) {
            } else {
                jQuery("#s-lc-c-catf .bootstrap-select").prop("title", "");
            }

            listenForFilterChanges();

            accessibleIcons();

                        activeView = "d";
            activeSearch = false;
            createDatePicker();
            runFilters();
        });
    </script>  
 </body>
</html>